{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Ribhav/OneDrive/Documents/Projects/Major%20project%20final/localli/src/app/admin/clusters/page.tsx"],"sourcesContent":["\"use client\";\n\nimport { useEffect, useState } from \"react\";\n\ntype Cluster = {\n  clusterId: string;\n  currentDemandScore: number;\n  previousDemandScore: number;\n  growthRate: number;\n  isSurging: boolean;\n  competitionIndex: number;\n  opportunityScore: number;\n  latitude: number;\n  longitude: number;\n};\n\nexport default function AdminClustersPage() {\n  const [clusters, setClusters] = useState<Cluster[]>([]);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState<string | null>(null);\n\n  useEffect(() => {\n    let active = true;\n\n    async function loadClusters() {\n      try {\n        setLoading(true);\n        setError(null);\n        const response = await fetch(\"/api/analytics/cluster-intelligence?days=14\");\n        if (!response.ok) {\n          throw new Error(\"Failed to load clusters\");\n        }\n        const data = (await response.json()) as { clusters?: Cluster[] };\n        if (!active) {\n          return;\n        }\n        setClusters(Array.isArray(data.clusters) ? data.clusters : []);\n      } catch (err) {\n        if (!active) {\n          return;\n        }\n        setError(err instanceof Error ? err.message : \"Unable to load clusters\");\n      } finally {\n        if (active) {\n          setLoading(false);\n        }\n      }\n    }\n\n    void loadClusters();\n    return () => {\n      active = false;\n    };\n  }, []);\n\n  return (\n    <div className=\"space-y-6\">\n      <h1 className=\"text-5xl font-bold tracking-tight md:text-6xl\">Clusters</h1>\n\n      {loading ? (\n        <div className=\"rounded-2xl border border-zinc-800 bg-zinc-900/80 p-8 text-zinc-300\">\n          Loading clusters...\n        </div>\n      ) : error ? (\n        <div className=\"rounded-2xl border border-red-900/40 bg-red-950/20 p-6 text-red-300\">\n          {error}\n        </div>\n      ) : (\n        <section className=\"overflow-hidden rounded-3xl border border-zinc-800 bg-zinc-900/90\">\n          <div className=\"overflow-x-auto\">\n            <table className=\"min-w-full text-left text-lg\">\n              <thead>\n                <tr className=\"border-b border-zinc-800 text-zinc-400\">\n                  <th className=\"px-7 py-4 font-medium\">Cluster ID</th>\n                  <th className=\"px-7 py-4 font-medium\">Demand</th>\n                  <th className=\"px-7 py-4 font-medium\">Growth %</th>\n                  <th className=\"px-7 py-4 font-medium\">Competition</th>\n                  <th className=\"px-7 py-4 font-medium\">Opportunity</th>\n                  <th className=\"px-7 py-4 font-medium\">Status</th>\n                </tr>\n              </thead>\n              <tbody>\n                {clusters.length === 0 ? (\n                  <tr>\n                    <td className=\"px-7 py-6 text-zinc-400\" colSpan={6}>\n                      No clusters available.\n                    </td>\n                  </tr>\n                ) : (\n                  clusters.map((cluster) => (\n                    <tr className=\"border-b border-zinc-800/60 last:border-b-0\" key={cluster.clusterId}>\n                      <td className=\"px-7 py-5 font-semibold text-zinc-100\">{cluster.clusterId}</td>\n                      <td className=\"px-7 py-5 text-zinc-200\">{cluster.currentDemandScore.toFixed(2)}</td>\n                      <td className=\"px-7 py-5 text-zinc-200\">{cluster.growthRate.toFixed(1)}%</td>\n                      <td className=\"px-7 py-5 text-zinc-200\">{cluster.competitionIndex.toFixed(2)}</td>\n                      <td className=\"px-7 py-5 text-zinc-200\">{cluster.opportunityScore.toFixed(2)}</td>\n                      <td className=\"px-7 py-5\">\n                        <span\n                          className={`rounded-lg px-3 py-1 text-sm ${\n                            cluster.isSurging\n                              ? \"bg-emerald-950/60 text-emerald-300\"\n                              : \"bg-zinc-800 text-zinc-300\"\n                          }`}\n                        >\n                          {cluster.isSurging ? \"Surging\" : \"Stable\"}\n                        </span>\n                      </td>\n                    </tr>\n                  ))\n                )}\n              </tbody>\n            </table>\n          </div>\n        </section>\n      )}\n    </div>\n  );\n}\n"],"names":[],"mappings":";;;;;AAEA;;;AAFA;;AAgBe,SAAS;;IACtB,MAAM,CAAC,UAAU,YAAY,GAAG,IAAA,yKAAQ,EAAY,EAAE;IACtD,MAAM,CAAC,SAAS,WAAW,GAAG,IAAA,yKAAQ,EAAC;IACvC,MAAM,CAAC,OAAO,SAAS,GAAG,IAAA,yKAAQ,EAAgB;IAElD,IAAA,0KAAS;uCAAC;YACR,IAAI,SAAS;YAEb,eAAe;gBACb,IAAI;oBACF,WAAW;oBACX,SAAS;oBACT,MAAM,WAAW,MAAM,MAAM;oBAC7B,IAAI,CAAC,SAAS,EAAE,EAAE;wBAChB,MAAM,IAAI,MAAM;oBAClB;oBACA,MAAM,OAAQ,MAAM,SAAS,IAAI;oBACjC,IAAI,CAAC,QAAQ;wBACX;oBACF;oBACA,YAAY,MAAM,OAAO,CAAC,KAAK,QAAQ,IAAI,KAAK,QAAQ,GAAG,EAAE;gBAC/D,EAAE,OAAO,KAAK;oBACZ,IAAI,CAAC,QAAQ;wBACX;oBACF;oBACA,SAAS,eAAe,QAAQ,IAAI,OAAO,GAAG;gBAChD,SAAU;oBACR,IAAI,QAAQ;wBACV,WAAW;oBACb;gBACF;YACF;YAEA,KAAK;YACL;+CAAO;oBACL,SAAS;gBACX;;QACF;sCAAG,EAAE;IAEL,qBACE,6LAAC;QAAI,WAAU;;0BACb,6LAAC;gBAAG,WAAU;0BAAgD;;;;;;YAE7D,wBACC,6LAAC;gBAAI,WAAU;0BAAsE;;;;;uBAGnF,sBACF,6LAAC;gBAAI,WAAU;0BACZ;;;;;qCAGH,6LAAC;gBAAQ,WAAU;0BACjB,cAAA,6LAAC;oBAAI,WAAU;8BACb,cAAA,6LAAC;wBAAM,WAAU;;0CACf,6LAAC;0CACC,cAAA,6LAAC;oCAAG,WAAU;;sDACZ,6LAAC;4CAAG,WAAU;sDAAwB;;;;;;sDACtC,6LAAC;4CAAG,WAAU;sDAAwB;;;;;;sDACtC,6LAAC;4CAAG,WAAU;sDAAwB;;;;;;sDACtC,6LAAC;4CAAG,WAAU;sDAAwB;;;;;;sDACtC,6LAAC;4CAAG,WAAU;sDAAwB;;;;;;sDACtC,6LAAC;4CAAG,WAAU;sDAAwB;;;;;;;;;;;;;;;;;0CAG1C,6LAAC;0CACE,SAAS,MAAM,KAAK,kBACnB,6LAAC;8CACC,cAAA,6LAAC;wCAAG,WAAU;wCAA0B,SAAS;kDAAG;;;;;;;;;;2CAKtD,SAAS,GAAG,CAAC,CAAC,wBACZ,6LAAC;wCAAG,WAAU;;0DACZ,6LAAC;gDAAG,WAAU;0DAAyC,QAAQ,SAAS;;;;;;0DACxE,6LAAC;gDAAG,WAAU;0DAA2B,QAAQ,kBAAkB,CAAC,OAAO,CAAC;;;;;;0DAC5E,6LAAC;gDAAG,WAAU;;oDAA2B,QAAQ,UAAU,CAAC,OAAO,CAAC;oDAAG;;;;;;;0DACvE,6LAAC;gDAAG,WAAU;0DAA2B,QAAQ,gBAAgB,CAAC,OAAO,CAAC;;;;;;0DAC1E,6LAAC;gDAAG,WAAU;0DAA2B,QAAQ,gBAAgB,CAAC,OAAO,CAAC;;;;;;0DAC1E,6LAAC;gDAAG,WAAU;0DACZ,cAAA,6LAAC;oDACC,WAAW,CAAC,6BAA6B,EACvC,QAAQ,SAAS,GACb,uCACA,6BACJ;8DAED,QAAQ,SAAS,GAAG,YAAY;;;;;;;;;;;;uCAd0B,QAAQ,SAAS;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA2BtG;GArGwB;KAAA"}}]
}