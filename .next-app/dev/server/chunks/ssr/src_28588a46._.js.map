{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Ribhav/OneDrive/Documents/Projects/Major%20project%20final/localli/src/components/ProtectedRoute.tsx"],"sourcesContent":["\"use client\";\n\nimport { useEffect, type ReactNode } from \"react\";\nimport { useRouter } from \"next/navigation\";\nimport { useAuth } from \"@/hooks/useAuth\";\nimport type { UserRole } from \"@/context/AuthContext\";\n\ninterface ProtectedRouteProps {\n  children: ReactNode;\n  requiredRole?: UserRole;\n}\n\nexport default function ProtectedRoute({ children, requiredRole }: ProtectedRouteProps) {\n  const router = useRouter();\n  const { loading, token, userRole } = useAuth();\n\n  useEffect(() => {\n    if (loading) {\n      return;\n    }\n\n    if (!token) {\n      router.replace(\"/login\");\n      return;\n    }\n\n    if (requiredRole && userRole !== requiredRole) {\n      router.replace(\"/\");\n    }\n  }, [loading, requiredRole, router, token, userRole]);\n\n  if (loading) {\n    return (\n      <div className=\"flex min-h-screen items-center justify-center bg-[#0A0A0A] text-zinc-300\">\n        Loading...\n      </div>\n    );\n  }\n\n  if (!token || (requiredRole && userRole !== requiredRole)) {\n    return null;\n  }\n\n  return <>{children}</>;\n}\n"],"names":[],"mappings":";;;;;AAEA;AACA;AACA;AAJA;;;;;AAYe,SAAS,eAAe,EAAE,QAAQ,EAAE,YAAY,EAAuB;IACpF,MAAM,SAAS,IAAA,+IAAS;IACxB,MAAM,EAAE,OAAO,EAAE,KAAK,EAAE,QAAQ,EAAE,GAAG,IAAA,kIAAO;IAE5C,IAAA,kNAAS,EAAC;QACR,IAAI,SAAS;YACX;QACF;QAEA,IAAI,CAAC,OAAO;YACV,OAAO,OAAO,CAAC;YACf;QACF;QAEA,IAAI,gBAAgB,aAAa,cAAc;YAC7C,OAAO,OAAO,CAAC;QACjB;IACF,GAAG;QAAC;QAAS;QAAc;QAAQ;QAAO;KAAS;IAEnD,IAAI,SAAS;QACX,qBACE,8OAAC;YAAI,WAAU;sBAA2E;;;;;;IAI9F;IAEA,IAAI,CAAC,SAAU,gBAAgB,aAAa,cAAe;QACzD,OAAO;IACT;IAEA,qBAAO;kBAAG;;AACZ"}},
    {"offset": {"line": 59, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Ribhav/OneDrive/Documents/Projects/Major%20project%20final/localli/src/app/admin/layout.tsx"],"sourcesContent":["\"use client\";\n\nimport Link from \"next/link\";\nimport { usePathname, useRouter } from \"next/navigation\";\nimport type { ReactNode } from \"react\";\nimport ProtectedRoute from \"@/components/ProtectedRoute\";\nimport { useAuth } from \"@/hooks/useAuth\";\n\ninterface AdminLayoutProps {\n  children: ReactNode;\n}\n\nexport default function AdminLayout({ children }: AdminLayoutProps) {\n  const pathname = usePathname();\n  const router = useRouter();\n  const { logout } = useAuth();\n\n  function handleLogout() {\n    logout();\n    router.replace(\"/login\");\n  }\n\n  const navItems = [\n    { href: \"/admin\", label: \"Overview\", icon: <GridIcon /> },\n    { href: \"/admin/clusters\", label: \"Clusters\", icon: <LayersIcon /> },\n    { href: \"/admin/heatmap\", label: \"Heatmap\", icon: <MapIcon /> },\n    { href: \"/admin/logs\", label: \"Logs\", icon: <FileIcon /> },\n  ];\n\n  return (\n    <ProtectedRoute requiredRole=\"ADMIN\">\n      <div className=\"min-h-screen bg-[#0A0A0A] text-white\">\n        <div className=\"flex min-h-screen\">\n          <aside className=\"hidden w-[300px] border-r border-zinc-800 bg-zinc-900/70 lg:flex lg:flex-col\">\n            <div className=\"border-b border-zinc-800 px-7 py-8\">\n              <Link className=\"text-[42px] font-semibold leading-none text-white\" href=\"/admin\">\n                Localli\n              </Link>\n              <p className=\"mt-3 text-lg text-zinc-400\">Intelligence Dashboard</p>\n            </div>\n\n            <nav className=\"flex-1 px-4 py-6\">\n              <div className=\"space-y-2\">\n                {navItems.map((item) => (\n                  <Link\n                    className={`flex items-center gap-3 rounded-2xl px-4 py-3 text-3xl transition ${\n                      pathname === item.href\n                        ? \"bg-[#4F7CFF]/20 text-[#4F7CFF]\"\n                        : \"text-zinc-300 hover:bg-zinc-800 hover:text-white\"\n                    }`}\n                    href={item.href}\n                    key={item.href}\n                  >\n                    <span className=\"inline-flex\">{item.icon}</span>\n                    {item.label}\n                  </Link>\n                ))}\n              </div>\n            </nav>\n\n            <div className=\"border-t border-zinc-800 px-6 py-6\">\n              <div className=\"flex items-center justify-between\">\n                <div className=\"flex items-center gap-3\">\n                  <span className=\"inline-flex h-12 w-12 items-center justify-center rounded-full bg-[#6366F1] text-lg font-semibold\">\n                    A\n                  </span>\n                  <div>\n                    <p className=\"text-lg font-semibold\">Admin User</p>\n                    <p className=\"text-sm text-zinc-400\">Admin</p>\n                  </div>\n                </div>\n                <button\n                  className=\"rounded-lg border border-zinc-700 px-3 py-1.5 text-sm text-zinc-300 hover:bg-zinc-800 hover:text-white\"\n                  onClick={handleLogout}\n                  type=\"button\"\n                >\n                  Logout\n                </button>\n              </div>\n            </div>\n          </aside>\n\n          <div className=\"flex-1\">\n            <header className=\"border-b border-zinc-800 px-6 py-4\">\n              <div className=\"flex items-center justify-between gap-4\">\n                <div className=\"inline-flex items-center gap-2 text-base text-zinc-300\">\n                  <span className=\"h-2.5 w-2.5 rounded-full bg-emerald-500\" />\n                  <span>System Active</span>\n                </div>\n                <div className=\"rounded-xl border border-zinc-700 bg-zinc-900 px-4 py-2 text-sm text-zinc-100\">\n                  Last 7 days\n                </div>\n              </div>\n            </header>\n\n            <main className=\"px-6 py-8\">{children}</main>\n          </div>\n        </div>\n      </div>\n    </ProtectedRoute>\n  );\n}\n\nfunction GridIcon() {\n  return (\n    <svg aria-hidden=\"true\" className=\"h-6 w-6\" fill=\"none\" viewBox=\"0 0 24 24\">\n      <rect height=\"7\" rx=\"1.5\" stroke=\"currentColor\" width=\"7\" x=\"3\" y=\"3\" />\n      <rect height=\"7\" rx=\"1.5\" stroke=\"currentColor\" width=\"7\" x=\"14\" y=\"3\" />\n      <rect height=\"7\" rx=\"1.5\" stroke=\"currentColor\" width=\"7\" x=\"3\" y=\"14\" />\n      <rect height=\"7\" rx=\"1.5\" stroke=\"currentColor\" width=\"7\" x=\"14\" y=\"14\" />\n    </svg>\n  );\n}\n\nfunction LayersIcon() {\n  return (\n    <svg aria-hidden=\"true\" className=\"h-6 w-6\" fill=\"none\" viewBox=\"0 0 24 24\">\n      <path d=\"M12 4L21 8.5L12 13L3 8.5L12 4Z\" stroke=\"currentColor\" strokeWidth=\"1.5\" />\n      <path d=\"M3 12L12 16.5L21 12\" stroke=\"currentColor\" strokeWidth=\"1.5\" />\n      <path d=\"M3 15.5L12 20L21 15.5\" stroke=\"currentColor\" strokeWidth=\"1.5\" />\n    </svg>\n  );\n}\n\nfunction MapIcon() {\n  return (\n    <svg aria-hidden=\"true\" className=\"h-6 w-6\" fill=\"none\" viewBox=\"0 0 24 24\">\n      <path d=\"M9 4L3 6V20L9 18L15 20L21 18V4L15 6L9 4Z\" stroke=\"currentColor\" strokeWidth=\"1.5\" />\n      <path d=\"M9 4V18\" stroke=\"currentColor\" strokeWidth=\"1.5\" />\n      <path d=\"M15 6V20\" stroke=\"currentColor\" strokeWidth=\"1.5\" />\n    </svg>\n  );\n}\n\nfunction FileIcon() {\n  return (\n    <svg aria-hidden=\"true\" className=\"h-6 w-6\" fill=\"none\" viewBox=\"0 0 24 24\">\n      <path d=\"M7 3H14L20 9V21H7V3Z\" stroke=\"currentColor\" strokeWidth=\"1.5\" />\n      <path d=\"M14 3V9H20\" stroke=\"currentColor\" strokeWidth=\"1.5\" />\n      <path d=\"M10 13H17\" stroke=\"currentColor\" strokeWidth=\"1.5\" />\n      <path d=\"M10 17H17\" stroke=\"currentColor\" strokeWidth=\"1.5\" />\n    </svg>\n  );\n}\n"],"names":[],"mappings":"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"}}]
}