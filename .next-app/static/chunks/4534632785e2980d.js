(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,23003,e=>{"use strict";var t=e.i(43476),s=e.i(71645),r=e.i(43037);function i(){let[e,i]=(0,s.useState)([]),[a,n]=(0,s.useState)(!0),[l,d]=(0,s.useState)(null),[c,x]=(0,s.useState)(new Set);(0,s.useEffect)(()=>{let e=!0;return async function(){try{n(!0),d(null);let t=await (0,r.authFetch)("/api/orders"),s=await t.json();if(!t.ok)throw Error(Array.isArray(s)?"Failed to fetch orders.":s.message??"Failed to fetch orders.");if(!e)return;i(Array.isArray(s)?s:[])}catch(t){if(!e)return;d(t instanceof Error?t.message:"Unable to load orders right now.")}finally{e&&n(!1)}}(),()=>{e=!1}},[]);let o=(0,s.useMemo)(()=>e.map(e=>({...e,items:e.items??e.orderItems??[]})),[e]);return(0,t.jsx)("div",{className:"min-h-screen bg-black px-6 py-16 text-white",children:(0,t.jsxs)("div",{className:"mx-auto max-w-7xl",children:[(0,t.jsx)("h1",{className:"mb-8 text-5xl font-bold tracking-tight",children:"My Orders"}),a?(0,t.jsx)("div",{className:"rounded-2xl border border-zinc-800 bg-zinc-900/80 p-8 text-center text-zinc-300",children:"Loading orders..."}):l?(0,t.jsx)("div",{className:"rounded-2xl border border-red-900/40 bg-red-950/20 p-6 text-red-300",children:l}):0===o.length?(0,t.jsx)("div",{className:"rounded-2xl border border-dashed border-zinc-700 bg-zinc-900/80 p-10 text-center text-zinc-400",children:"You have no orders yet."}):(0,t.jsx)("div",{className:"space-y-5",children:o.map(e=>{var s;let r,i,a=c.has(e.id),n=e.items??[];return(0,t.jsxs)("article",{className:"rounded-2xl border border-zinc-800 bg-zinc-900/90 p-6",children:[(0,t.jsxs)("div",{className:"flex flex-wrap items-start justify-between gap-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-3xl font-semibold text-zinc-100",children:(s=e.id,`ORD-${String(s+1e3).padStart(4,"0")}`)}),(0,t.jsx)("p",{className:"mt-1 text-xl text-zinc-400",children:Number.isNaN((r=new Date(e.createdAt)).getTime())?"Unknown date":r.toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"})})]}),(0,t.jsx)("span",{className:`rounded-xl px-4 py-2 text-lg font-medium ${(i=e.status.toLowerCase()).includes("delivered")?"bg-emerald-950/60 text-emerald-300":i.includes("transit")||i.includes("shipped")?"bg-blue-950/60 text-blue-300":i.includes("process")||i.includes("placed")?"bg-amber-950/60 text-amber-300":"bg-zinc-800 text-zinc-300"}`,children:e.status})]}),(0,t.jsx)("div",{className:"mt-6 h-px bg-zinc-800"}),(0,t.jsxs)("div",{className:"mt-5 flex flex-wrap items-center justify-between gap-4",children:[(0,t.jsxs)("div",{className:"flex items-center gap-10",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-base text-zinc-400",children:"Items"}),(0,t.jsx)("p",{className:"text-3xl font-semibold text-zinc-100",children:n.length})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-base text-zinc-400",children:"Total"}),(0,t.jsxs)("p",{className:"text-3xl font-semibold text-zinc-100",children:["$",e.total.toFixed(2)]})]})]}),(0,t.jsx)("button",{className:"rounded-xl bg-zinc-800 px-5 py-2.5 text-lg font-semibold text-zinc-100 transition hover:bg-zinc-700",onClick:()=>{var t;return t=e.id,void x(e=>{let s=new Set(e);return s.has(t)?s.delete(t):s.add(t),s})},type:"button",children:a?"Hide Details":"View Details"})]}),a?(0,t.jsx)("div",{className:"mt-5 rounded-xl border border-zinc-800 bg-black/40 p-4",children:0===n.length?(0,t.jsx)("p",{className:"text-sm text-zinc-400",children:"No item details available."}):(0,t.jsx)("ul",{className:"space-y-3",children:n.map(e=>(0,t.jsxs)("li",{className:"flex items-center justify-between rounded-lg border border-zinc-800 bg-zinc-900/60 px-4 py-3",children:[(0,t.jsxs)("div",{children:[(0,t.jsxs)("p",{className:"text-base font-medium text-zinc-100",children:["Product #",e.productId]}),(0,t.jsxs)("p",{className:"text-sm text-zinc-400",children:["Qty: ",e.quantity]})]}),(0,t.jsxs)("p",{className:"text-base font-semibold text-zinc-100",children:["$",(e.price*e.quantity).toFixed(2)]})]},e.id))})}):null]},e.id)})})]})})}e.s(["default",()=>i])}]);