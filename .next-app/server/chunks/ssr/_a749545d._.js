module.exports=[35112,(a,b,c)=>{"use strict";b.exports=a.r(42602).vendored["react-ssr"].ReactDOM},87504,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(50944),e=a.i(34614),f=a.i(77924),g=a.i(57431),h=a.i(48662),i=a.i(59854),j=a.i(58042),k=a.i(94222);function l(){let a=(0,d.useRouter)(),[l,n]=(0,c.useState)(null),[o,p]=(0,c.useState)([]),[q,r]=(0,c.useState)(!0),[s,t]=(0,c.useState)(null);(0,c.useEffect)(()=>{let b=!0;return async function(){try{r(!0),t(null);let[c,d,f]=await Promise.all([(0,e.authFetch)("/api/vendor/store"),(0,e.authFetch)("/api/vendor/analytics"),(0,e.authFetch)("/api/vendor/orders")]);if(404===c.status)return void a.replace("/vendor/store");if(!c.ok||!d.ok||!f.ok)throw Error("Failed to load vendor dashboard");let g=await d.json(),h=await f.json();if(!b)return;n(g),p(Array.isArray(h)?h:[])}catch(a){if(!b)return;t(a instanceof Error?a.message:"Unable to load dashboard")}finally{b&&r(!1)}}(),()=>{b=!1}},[a]);let u=(0,c.useMemo)(()=>(function(a){let b=new Date(new Date);b.setHours(0,0,0,0),b.setDate(b.getDate()-6);let c=new Map;for(let a=0;a<7;a+=1){let d=new Date(b);d.setDate(b.getDate()+a);let e=d.toISOString().slice(0,10);c.set(e,0)}for(let b of a){let a=new Date(b.createdAt);if(Number.isNaN(a.getTime()))continue;a.setHours(0,0,0,0);let d=a.toISOString().slice(0,10);c.has(d)&&c.set(d,(c.get(d)??0)+b.total)}return Array.from(c.entries()).map(([a,b])=>({label:new Date(a).toLocaleDateString(void 0,{weekday:"short"}),revenue:Number(b.toFixed(2))}))})(o),[o]);if(q)return(0,b.jsx)("div",{className:"rounded-2xl border border-zinc-800 bg-zinc-900/80 p-10 text-center text-zinc-300",children:"Loading dashboard..."});if(s||!l)return(0,b.jsx)("div",{className:"rounded-2xl border border-red-900/40 bg-red-950/20 p-6 text-red-300",children:s??"Failed to load dashboard"});let v=l.totalPurchases>0?l.totalRevenue/l.totalPurchases:0;return(0,b.jsxs)("div",{className:"space-y-8",children:[(0,b.jsx)("h1",{className:"text-5xl font-bold tracking-tight md:text-6xl",children:"Vendor Dashboard"}),(0,b.jsxs)("section",{className:"grid grid-cols-1 gap-6 md:grid-cols-2 xl:grid-cols-4",children:[(0,b.jsx)(m,{label:"Total Products",value:l.totalProducts.toString(),tone:"blue",note:"+4 this week"}),(0,b.jsx)(m,{label:"Total Orders",value:l.totalPurchases.toString(),tone:"green",note:"+12% vs last week"}),(0,b.jsx)(m,{label:"Revenue",value:`$${l.totalRevenue.toLocaleString(void 0,{maximumFractionDigits:0})}`,tone:"amber",note:"+18% vs last week"}),(0,b.jsx)(m,{label:"Avg Order Value",value:`$${v.toFixed(2)}`,tone:"purple",note:"+5% increase"})]}),(0,b.jsxs)("section",{className:"grid grid-cols-1 gap-6 xl:grid-cols-[2fr_1fr]",children:[(0,b.jsxs)("div",{className:"rounded-2xl border border-zinc-800 bg-zinc-900/90 p-6",children:[(0,b.jsx)("h2",{className:"text-4xl font-semibold",children:"Weekly Revenue"}),(0,b.jsx)("div",{className:"mt-5 h-[380px]",children:(0,b.jsx)(h.ResponsiveContainer,{height:"100%",width:"100%",children:(0,b.jsxs)(g.LineChart,{data:u,margin:{top:10,right:16,left:0,bottom:10},children:[(0,b.jsx)(j.XAxis,{axisLine:{stroke:"#3F3F46"},dataKey:"label",tick:{fill:"#A1A1AA",fontSize:12},tickLine:!1}),(0,b.jsx)(k.YAxis,{axisLine:{stroke:"#3F3F46"},tick:{fill:"#A1A1AA",fontSize:12},tickLine:!1,width:48}),(0,b.jsx)(i.Tooltip,{contentStyle:{backgroundColor:"#1C1C1E",border:"1px solid #3F3F46",borderRadius:"12px",color:"#FFFFFF"},formatter:a=>{let b="number"==typeof a?a:Number(a??0);return[`$${b.toFixed(2)}`,"Revenue"]},labelStyle:{color:"#FFFFFF"}}),(0,b.jsx)(f.Line,{dataKey:"revenue",dot:{fill:"#4F7CFF",r:5,strokeWidth:0},stroke:"#4F7CFF",strokeWidth:4,type:"monotone"})]})})})]}),(0,b.jsxs)("div",{className:"rounded-2xl border border-zinc-800 bg-zinc-900/90 p-6",children:[(0,b.jsx)("h2",{className:"text-4xl font-semibold",children:"Recent Orders"}),(0,b.jsx)("div",{className:"mt-5 space-y-4",children:0===o.length?(0,b.jsx)("p",{className:"text-zinc-400",children:"No recent orders."}):o.slice(0,5).map(a=>{let c;return(0,b.jsxs)("div",{className:"border-b border-zinc-800 pb-4 last:border-b-0",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between gap-3",children:[(0,b.jsxs)("p",{className:"text-3xl font-semibold",children:["ORD-",a.id]}),(0,b.jsx)("span",{className:`rounded-xl px-3 py-1 text-lg ${(c=a.status.toLowerCase()).includes("completed")?"bg-emerald-950/60 text-emerald-300":c.includes("process")||c.includes("placed")?"bg-amber-950/60 text-amber-300":c.includes("transit")?"bg-violet-950/60 text-violet-300":"bg-blue-950/60 text-blue-300"}`,children:a.status.toLowerCase()})]}),(0,b.jsx)("p",{className:"mt-1 text-xl text-zinc-400",children:new Date(a.createdAt).toLocaleDateString()}),(0,b.jsxs)("p",{className:"mt-2 text-3xl font-semibold",children:["$",a.total.toFixed(2)]})]},a.id)})})]})]})]})}function m({label:a,value:c,note:d,tone:e}){return(0,b.jsxs)("article",{className:"rounded-2xl border border-zinc-800 bg-zinc-900/90 p-6",children:[(0,b.jsx)("p",{className:"text-2xl text-zinc-400",children:a}),(0,b.jsx)("p",{className:`mt-4 text-6xl font-bold ${{blue:"text-blue-400",green:"text-emerald-400",amber:"text-amber-400",purple:"text-violet-400"}[e]}`,children:c}),(0,b.jsx)("p",{className:"mt-2 text-lg text-[#30D158]",children:d})]})}a.s(["default",()=>l])}];

//# sourceMappingURL=_a749545d._.js.map