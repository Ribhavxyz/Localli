module.exports=[55566,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(34614);function e(){let[a,e]=(0,c.useState)([]),[f,g]=(0,c.useState)(!0),[h,i]=(0,c.useState)(null),[j,k]=(0,c.useState)(""),[l,m]=(0,c.useState)(""),[n,o]=(0,c.useState)(""),[p,q]=(0,c.useState)(!1),[r,s]=(0,c.useState)(new Set),[t,u]=(0,c.useState)(!1),v=a.length>0,w=(0,c.useMemo)(()=>{let a=j.trim(),b=Number(l),c=Number(n);return a?!Number.isFinite(b)||b<=0?"Price must be greater than 0.":Number.isFinite(c)&&!(c<0)&&Number.isInteger(c)?null:"Stock must be a whole number 0 or greater.":"Product name is required."},[j,l,n]),x=(0,c.useCallback)(async()=>{try{g(!0),i(null);let a=await (0,d.authFetch)("/api/vendor/products"),b=await a.json();if(!a.ok)throw Error(b.message??"Failed to load products.");e(Array.isArray(b.products)?b.products:[])}catch(a){i(a instanceof Error?a.message:"Unable to load products right now.")}finally{g(!1)}},[]);async function y(a){if(a.preventDefault(),w)return void i(w);try{q(!0),i(null);let a=await (0,d.authFetch)("/api/vendor/products",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:j.trim(),price:Number(l),stock:Number(n)})}),b=await a.json();if(!a.ok)throw Error(b.message??"Failed to create product.");k(""),m(""),o(""),await x()}catch(a){i(a instanceof Error?a.message:"Unable to create product right now.")}finally{q(!1)}}async function z(a){try{s(b=>{let c=new Set(b);return c.add(a),c}),i(null);let b=await (0,d.authFetch)(`/api/vendor/products/${a}`,{method:"DELETE"}),c=await b.json();if(!b.ok)throw Error(c.message??"Failed to delete product.");await x()}catch(a){i(a instanceof Error?a.message:"Unable to delete product right now.")}finally{s(b=>{let c=new Set(b);return c.delete(a),c})}}return(0,c.useEffect)(()=>{x()},[x]),(0,b.jsxs)("div",{className:"space-y-6",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between gap-4",children:[(0,b.jsx)("h1",{className:"text-5xl font-bold tracking-tight md:text-6xl",children:"Products"}),(0,b.jsx)("button",{className:"rounded-2xl bg-[#4F7CFF] px-6 py-3 text-2xl font-semibold text-white transition hover:bg-[#3f6ef2]",onClick:()=>u(a=>!a),type:"button",children:"+ Add Product"})]}),t?(0,b.jsxs)("section",{className:"rounded-2xl border border-zinc-800 bg-zinc-900/90 p-6",children:[(0,b.jsx)("h2",{className:"text-3xl font-semibold",children:"Add Product"}),(0,b.jsxs)("form",{className:"mt-5 grid grid-cols-1 gap-4 md:grid-cols-4",onSubmit:y,children:[(0,b.jsxs)("div",{className:"md:col-span-2",children:[(0,b.jsx)("label",{className:"mb-1 block text-lg text-zinc-300",htmlFor:"product-name",children:"Name"}),(0,b.jsx)("input",{className:"w-full rounded-xl border border-zinc-700 bg-black px-4 py-3 text-xl text-white outline-none ring-[#4F7CFF] focus:ring-2",id:"product-name",onChange:a=>k(a.target.value),placeholder:"Fresh Organic Avocados",required:!0,type:"text",value:j})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"mb-1 block text-lg text-zinc-300",htmlFor:"product-price",children:"Price"}),(0,b.jsx)("input",{className:"w-full rounded-xl border border-zinc-700 bg-black px-4 py-3 text-xl text-white outline-none ring-[#4F7CFF] focus:ring-2",id:"product-price",min:"0.01",onChange:a=>m(a.target.value),required:!0,step:"0.01",type:"number",value:l})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"mb-1 block text-lg text-zinc-300",htmlFor:"product-stock",children:"Stock"}),(0,b.jsx)("input",{className:"w-full rounded-xl border border-zinc-700 bg-black px-4 py-3 text-xl text-white outline-none ring-[#4F7CFF] focus:ring-2",id:"product-stock",min:"0",onChange:a=>o(a.target.value),required:!0,step:"1",type:"number",value:n})]}),(0,b.jsx)("div",{className:"md:col-span-4",children:(0,b.jsx)("button",{className:"rounded-xl bg-[#4F7CFF] px-5 py-3 text-xl font-semibold text-white transition hover:bg-[#3f6ef2] disabled:opacity-60",disabled:p,type:"submit",children:p?"Adding Product...":"Save Product"})})]})]}):null,(0,b.jsx)("section",{className:"overflow-hidden rounded-3xl border border-zinc-800 bg-zinc-900/90",children:(0,b.jsx)("div",{className:"overflow-x-auto",children:(0,b.jsxs)("table",{className:"min-w-full text-xl",children:[(0,b.jsx)("thead",{children:(0,b.jsxs)("tr",{className:"border-b border-zinc-800 text-zinc-400",children:[(0,b.jsx)("th",{className:"px-7 py-5 text-left font-medium",children:"Product"}),(0,b.jsx)("th",{className:"px-7 py-5 text-left font-medium",children:"Category"}),(0,b.jsx)("th",{className:"px-7 py-5 text-left font-medium",children:"Price"}),(0,b.jsx)("th",{className:"px-7 py-5 text-left font-medium",children:"Stock"}),(0,b.jsx)("th",{className:"px-7 py-5 text-left font-medium",children:"Status"}),(0,b.jsx)("th",{className:"px-7 py-5 text-right font-medium",children:"Actions"})]})}),(0,b.jsx)("tbody",{children:f?(0,b.jsx)("tr",{children:(0,b.jsx)("td",{className:"px-7 py-6 text-zinc-300",colSpan:6,children:"Loading products..."})}):v?a.map(a=>{let c,d=r.has(a.id),e=a.stock<20,f=(c=a.name.toLowerCase()).includes("bread")?"Bakery":c.includes("egg")||c.includes("milk")?"Dairy":c.includes("coffee")||c.includes("drink")?"Beverages":"Produce";return(0,b.jsxs)("tr",{className:"border-b border-zinc-800/70",children:[(0,b.jsx)("td",{className:"px-7 py-6",children:(0,b.jsxs)("div",{className:"flex items-center gap-4",children:[(0,b.jsx)("span",{className:"inline-flex h-12 w-12 items-center justify-center rounded-xl bg-zinc-800 text-blue-400",children:(0,b.jsxs)("svg",{"aria-hidden":"true",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",children:[(0,b.jsx)("path",{d:"M12 3L20 7.5V16.5L12 21L4 16.5V7.5L12 3Z",stroke:"currentColor",strokeLinejoin:"round",strokeWidth:"1.5"}),(0,b.jsx)("path",{d:"M12 12L20 7.5",stroke:"currentColor",strokeWidth:"1.5"}),(0,b.jsx)("path",{d:"M12 12L4 7.5",stroke:"currentColor",strokeWidth:"1.5"}),(0,b.jsx)("path",{d:"M12 12V21",stroke:"currentColor",strokeWidth:"1.5"})]})}),(0,b.jsx)("span",{className:"font-semibold text-zinc-100",children:a.name})]})}),(0,b.jsx)("td",{className:"px-7 py-6 text-zinc-400",children:f}),(0,b.jsxs)("td",{className:"px-7 py-6 font-semibold text-zinc-100",children:["$",a.price.toFixed(2)]}),(0,b.jsx)("td",{className:"px-7 py-6 text-zinc-100",children:a.stock}),(0,b.jsx)("td",{className:"px-7 py-6",children:(0,b.jsx)("span",{className:`rounded-xl px-3 py-1 text-lg ${e?"bg-amber-950/60 text-amber-300":"bg-emerald-950/60 text-emerald-300"}`,children:e?"Low Stock":"In Stock"})}),(0,b.jsxs)("td",{className:"px-7 py-6 text-right",children:[(0,b.jsx)("button",{className:"rounded-lg px-3 py-1.5 text-lg text-blue-400 transition hover:bg-zinc-800",type:"button",children:"âœŽ"}),(0,b.jsx)("button",{className:"rounded-lg px-3 py-1.5 text-lg text-red-400 transition hover:bg-zinc-800 disabled:opacity-50",disabled:d,onClick:()=>void z(a.id),type:"button",children:d?"...":"ðŸ—‘"})]})]},a.id)}):(0,b.jsx)("tr",{children:(0,b.jsx)("td",{className:"px-7 py-6 text-zinc-400",colSpan:6,children:"No products yet."})})})]})})}),h?(0,b.jsx)("div",{className:"rounded-xl border border-red-900/40 bg-red-950/20 p-4 text-red-300",children:h}):null]})}a.s(["default",()=>e])}];

//# sourceMappingURL=src_app_vendor_products_page_tsx_b62f8277._.js.map