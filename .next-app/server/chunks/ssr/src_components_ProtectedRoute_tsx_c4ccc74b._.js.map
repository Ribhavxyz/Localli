{"version":3,"sources":["../../../../src/components/ProtectedRoute.tsx"],"sourcesContent":["\"use client\";\n\nimport { useEffect, type ReactNode } from \"react\";\nimport { useRouter } from \"next/navigation\";\nimport { useAuth } from \"@/hooks/useAuth\";\nimport type { UserRole } from \"@/context/AuthContext\";\n\ninterface ProtectedRouteProps {\n  children: ReactNode;\n  requiredRole?: UserRole;\n}\n\nexport default function ProtectedRoute({ children, requiredRole }: ProtectedRouteProps) {\n  const router = useRouter();\n  const { loading, token, userRole } = useAuth();\n\n  useEffect(() => {\n    if (loading) {\n      return;\n    }\n\n    if (!token) {\n      router.replace(\"/login\");\n      return;\n    }\n\n    if (requiredRole && userRole !== requiredRole) {\n      router.replace(\"/\");\n    }\n  }, [loading, requiredRole, router, token, userRole]);\n\n  if (loading) {\n    return (\n      <div className=\"flex min-h-screen items-center justify-center bg-[#0A0A0A] text-zinc-300\">\n        Loading...\n      </div>\n    );\n  }\n\n  if (!token || (requiredRole && userRole !== requiredRole)) {\n    return null;\n  }\n\n  return <>{children}</>;\n}\n"],"names":[],"mappings":"wDAEA,EAAA,EAAA,CAAA,CAAA,OACA,EAAA,EAAA,CAAA,CAAA,OACA,EAAA,EAAA,CAAA,CAAA,OAQe,SAAS,EAAe,UAAE,CAAQ,cAAE,CAAY,CAAuB,EACpF,IAAM,EAAS,CAAA,EAAA,EAAA,SAAS,AAAT,IACT,SAAE,CAAO,OAAE,CAAK,UAAE,CAAQ,CAAE,CAAG,CAAA,EAAA,EAAA,OAAA,AAAO,UAiB5C,CAfA,CAAA,EAAA,EAAA,SAAA,AAAS,EAAC,KACR,IAAI,GAIJ,GAAI,CAAC,EAJQ,AAID,YACV,EAAO,OAAO,CAAC,UAIb,GAAgB,IAAa,GAC/B,EAAO,OAAO,CAAC,CAD8B,IAGjD,EAAG,CAAC,EAAS,EAAc,EAAQ,EAAO,EAAS,EAE/C,GAEA,CAAA,EAAA,EAAA,CAFS,EAET,EAAC,MAAA,CAAI,UAAU,oFAA2E,eAM1F,CAAC,GAAU,GAAgB,IAAa,EACnC,KAGF,CAAA,EAAA,EAAA,EAJoD,CAIpD,EAAA,EAAA,QAAA,CAAA,UAAG,GACZ"}