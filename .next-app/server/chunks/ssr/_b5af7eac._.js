module.exports=[35112,(a,b,c)=>{"use strict";b.exports=a.r(42602).vendored["react-ssr"].ReactDOM},33354,(a,b,c)=>{"use strict";c._=function(a){return a&&a.__esModule?a:{default:a}}},33095,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0});var d={default:function(){return k},getImageProps:function(){return j}};for(var e in d)Object.defineProperty(c,e,{enumerable:!0,get:d[e]});let f=a.r(33354),g=a.r(94915),h=a.r(67161),i=f._(a.r(2305));function j(a){let{props:b}=(0,g.getImgProps)(a,{defaultLoader:i.default,imgConf:{deviceSizes:[640,750,828,1080,1200,1920,2048,3840],imageSizes:[32,48,64,96,128,256,384],qualities:[75],path:"/_next/image",loader:"default",dangerouslyAllowSVG:!1,unoptimized:!1}});for(let[a,c]of Object.entries(b))void 0===c&&delete b[a];return{props:b}}let k=h.Image},71987,(a,b,c)=>{b.exports=a.r(33095)},94894,a=>{"use strict";var b=a.i(87924),c=a.i(71987),d=a.i(72131),e=a.i(50944),f=a.i(34614);function g(){let a=(0,e.useRouter)(),[g,h]=(0,d.useState)([]),[i,j]=(0,d.useState)(!0),[k,l]=(0,d.useState)(null),[m,n]=(0,d.useState)(!1),[o,p]=(0,d.useState)(!1),q=(0,d.useMemo)(()=>g.reduce((a,b)=>a+b.product.price*b.quantity,0),[g]),r=4.99*(g.length>0),s=(0,d.useMemo)(()=>.08*q,[q]),t=q+r+s,u=["https://images.unsplash.com/photo-1582655299221-2b6bff351df0?auto=format&fit=crop&w=900&q=80","https://images.unsplash.com/photo-1549931319-a545dcf3bc73?auto=format&fit=crop&w=900&q=80","https://images.unsplash.com/photo-1582722872445-44dc5f7e3c8f?auto=format&fit=crop&w=900&q=80","https://images.unsplash.com/photo-1517701550927-30cf4ba1f5f5?auto=format&fit=crop&w=900&q=80"];async function v(){try{n(!0),l(null);let b=await (0,f.authFetch)("/api/checkout",{method:"POST"}),c=await b.json();if(!b.ok)throw Error(c.message??"Failed to place order.");p(!0),setTimeout(()=>{a.replace("/orders")},900)}catch(a){l(a instanceof Error?a.message:"Unable to place order right now.")}finally{n(!1)}}return((0,d.useEffect)(()=>{let a=!0;return async function(){try{j(!0),l(null);let b=await (0,f.authFetch)("/api/cart"),c=await b.json();if(!b.ok){let a=Array.isArray(c)?void 0:c.message;throw Error(a??"Failed to load cart items.")}a&&h(Array.isArray(c)?c:[])}catch(b){if(!a)return;l(b instanceof Error?b.message:"Unable to load checkout details.")}finally{a&&j(!1)}}(),()=>{a=!1}},[]),i)?(0,b.jsx)("div",{className:"min-h-screen bg-black px-6 py-16 text-white",children:(0,b.jsx)("div",{className:"mx-auto flex max-w-7xl items-center justify-center rounded-2xl border border-zinc-800 bg-zinc-900/80 p-10",children:(0,b.jsxs)("div",{className:"flex items-center gap-3 text-zinc-300",children:[(0,b.jsx)("span",{className:"h-5 w-5 animate-spin rounded-full border-2 border-zinc-500 border-t-white"}),(0,b.jsx)("span",{children:"Loading checkout..."})]})})}):(0,b.jsx)("div",{className:"min-h-screen bg-black px-6 py-16 text-white",children:(0,b.jsxs)("div",{className:"mx-auto w-full max-w-7xl space-y-6",children:[(0,b.jsx)("h1",{className:"text-5xl font-bold tracking-tight text-zinc-100",children:"Checkout"}),k?(0,b.jsx)("div",{className:"rounded-xl border border-[#FF453A]/40 bg-[#FF453A]/10 p-4 text-sm text-[#FF8A80]",children:k}):null,o?(0,b.jsx)("div",{className:"rounded-xl border border-[#30D158]/40 bg-[#30D158]/10 p-4 text-sm text-[#7EF2A0]",children:"Order placed successfully. Redirecting to orders..."}):null,0===g.length?(0,b.jsx)("div",{className:"rounded-2xl border border-dashed border-zinc-700 bg-zinc-900/80 p-10 text-center text-zinc-400",children:"Your cart is empty."}):(0,b.jsxs)("div",{className:"grid grid-cols-1 gap-6 lg:grid-cols-[1fr_1fr]",children:[(0,b.jsxs)("div",{className:"rounded-2xl border border-zinc-800 bg-zinc-900/90 p-6",children:[(0,b.jsx)("h2",{className:"text-4xl font-semibold text-zinc-100",children:"Order Summary"}),(0,b.jsx)("div",{className:"mt-6 space-y-4",children:g.map((a,d)=>(0,b.jsxs)("div",{className:"flex items-center justify-between border-b border-zinc-800 pb-4 last:border-b-0 last:pb-0",children:[(0,b.jsxs)("div",{className:"flex items-center gap-4",children:[(0,b.jsx)("div",{className:"relative h-20 w-20 overflow-hidden rounded-xl bg-zinc-800",children:(0,b.jsx)(c.default,{alt:a.product.name,className:"object-cover",fill:!0,sizes:"80px",src:a.product.imageUrl??u[d%u.length]})}),(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-2xl font-semibold text-zinc-100",children:a.product.name}),(0,b.jsxs)("p",{className:"text-xl text-zinc-400",children:["Qty: ",a.quantity]})]})]}),(0,b.jsxs)("p",{className:"text-3xl font-semibold text-zinc-100",children:["$",(a.product.price*a.quantity).toFixed(2)]})]},a.id))}),(0,b.jsxs)("div",{className:"mt-8 space-y-3 border-t border-zinc-800 pt-6 text-2xl text-zinc-300",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsx)("span",{children:"Subtotal"}),(0,b.jsxs)("span",{className:"font-semibold text-zinc-100",children:["$",q.toFixed(2)]})]}),(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsx)("span",{children:"Delivery"}),(0,b.jsxs)("span",{className:"font-semibold text-zinc-100",children:["$",r.toFixed(2)]})]}),(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsx)("span",{children:"Tax"}),(0,b.jsxs)("span",{className:"font-semibold text-zinc-100",children:["$",s.toFixed(2)]})]}),(0,b.jsxs)("div",{className:"mt-4 flex items-center justify-between border-t border-zinc-800 pt-4 text-4xl font-bold text-zinc-100",children:[(0,b.jsx)("span",{children:"Total"}),(0,b.jsxs)("span",{children:["$",t.toFixed(2)]})]})]})]}),(0,b.jsxs)("div",{className:"space-y-6",children:[(0,b.jsxs)("div",{className:"rounded-2xl border border-zinc-800 bg-zinc-900/90 p-6",children:[(0,b.jsx)("h2",{className:"text-4xl font-semibold text-zinc-100",children:"Delivery Address"}),(0,b.jsxs)("div",{className:"mt-4 grid grid-cols-1 gap-4",children:[(0,b.jsx)("input",{className:"rounded-xl border border-zinc-800 bg-black px-4 py-3 text-lg text-zinc-100 outline-none ring-[#4F7CFF] placeholder:text-zinc-500 focus:ring-2",placeholder:"Street Address",type:"text"}),(0,b.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,b.jsx)("input",{className:"rounded-xl border border-zinc-800 bg-black px-4 py-3 text-lg text-zinc-100 outline-none ring-[#4F7CFF] placeholder:text-zinc-500 focus:ring-2",placeholder:"City",type:"text"}),(0,b.jsx)("input",{className:"rounded-xl border border-zinc-800 bg-black px-4 py-3 text-lg text-zinc-100 outline-none ring-[#4F7CFF] placeholder:text-zinc-500 focus:ring-2",placeholder:"ZIP Code",type:"text"})]})]})]}),(0,b.jsxs)("div",{className:"rounded-2xl border border-zinc-800 bg-zinc-900/90 p-6",children:[(0,b.jsx)("h2",{className:"text-4xl font-semibold text-zinc-100",children:"Payment Method"}),(0,b.jsxs)("div",{className:"mt-4 grid grid-cols-1 gap-4",children:[(0,b.jsx)("input",{className:"rounded-xl border border-zinc-800 bg-black px-4 py-3 text-lg text-zinc-100 outline-none ring-[#4F7CFF] placeholder:text-zinc-500 focus:ring-2",placeholder:"Card Number",type:"text"}),(0,b.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,b.jsx)("input",{className:"rounded-xl border border-zinc-800 bg-black px-4 py-3 text-lg text-zinc-100 outline-none ring-[#4F7CFF] placeholder:text-zinc-500 focus:ring-2",placeholder:"MM/YY",type:"text"}),(0,b.jsx)("input",{className:"rounded-xl border border-zinc-800 bg-black px-4 py-3 text-lg text-zinc-100 outline-none ring-[#4F7CFF] placeholder:text-zinc-500 focus:ring-2",placeholder:"CVV",type:"text"})]})]})]}),(0,b.jsx)("button",{className:"inline-flex w-full items-center justify-center rounded-xl bg-[#4F7CFF] px-6 py-4 text-3xl font-semibold text-white transition hover:bg-[#3f6ef2] disabled:cursor-not-allowed disabled:bg-zinc-700 disabled:text-zinc-400",disabled:m||o,onClick:()=>void v(),type:"button",children:m?"Placing Order...":"Confirm Order"})]})]})]})})}a.s(["default",()=>g])}];

//# sourceMappingURL=_b5af7eac._.js.map