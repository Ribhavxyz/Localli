module.exports=[35112,(a,b,c)=>{"use strict";b.exports=a.r(42602).vendored["react-ssr"].ReactDOM},33354,(a,b,c)=>{"use strict";c._=function(a){return a&&a.__esModule?a:{default:a}}},33095,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0});var d={default:function(){return k},getImageProps:function(){return j}};for(var e in d)Object.defineProperty(c,e,{enumerable:!0,get:d[e]});let f=a.r(33354),g=a.r(94915),h=a.r(67161),i=f._(a.r(2305));function j(a){let{props:b}=(0,g.getImgProps)(a,{defaultLoader:i.default,imgConf:{deviceSizes:[640,750,828,1080,1200,1920,2048,3840],imageSizes:[32,48,64,96,128,256,384],qualities:[75],path:"/_next/image",loader:"default",dangerouslyAllowSVG:!1,unoptimized:!1}});for(let[a,c]of Object.entries(b))void 0===c&&delete b[a];return{props:b}}let k=h.Image},71987,(a,b,c)=>{b.exports=a.r(33095)},98472,a=>{"use strict";var b=a.i(87924),c=a.i(71987),d=a.i(38246),e=a.i(72131),f=a.i(34614);function g(){let[a,g]=(0,e.useState)([]),[h,i]=(0,e.useState)(!0),[j,k]=(0,e.useState)(null),[l,m]=(0,e.useState)({}),[n,o]=(0,e.useState)({}),p=(0,e.useMemo)(()=>a.reduce((a,b)=>a+b.product.price*b.quantity,0),[a]),q=4.99*(a.length>0),r=(0,e.useMemo)(()=>.08*p,[p]),s=p+q+r,t=["https://images.unsplash.com/photo-1582655299221-2b6bff351df0?auto=format&fit=crop&w=900&q=80","https://images.unsplash.com/photo-1549931319-a545dcf3bc73?auto=format&fit=crop&w=900&q=80","https://images.unsplash.com/photo-1582722872445-44dc5f7e3c8f?auto=format&fit=crop&w=900&q=80","https://images.unsplash.com/photo-1517701550927-30cf4ba1f5f5?auto=format&fit=crop&w=900&q=80"];async function u(){try{i(!0),k(null);let a=await (0,f.authFetch)("/api/cart"),b=await a.json();if(!a.ok)throw Error(!Array.isArray(b)&&b.message?b.message:"Failed to load cart items.");let c=Array.isArray(b)?b:[];g(c)}catch(a){k(a instanceof Error?a.message:"Unable to load your cart right now.")}finally{i(!1)}}async function v(a,b){if(Number.isInteger(b)&&!(b<=0))try{k(null),m(b=>({...b,[a.id]:!0}));let c=await (0,f.authFetch)(`/api/cart/${a.id}`,{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify({quantity:b})}),d=await c.json();if(!c.ok)throw Error(d.message??"Failed to update quantity.");g(c=>c.map(c=>c.id===a.id?{...c,quantity:b}:c))}catch(a){k(a instanceof Error?a.message:"Unable to update quantity right now.")}finally{m(b=>({...b,[a.id]:!1}))}}async function w(a){try{k(null),o(b=>({...b,[a.id]:!0}));let b=await (0,f.authFetch)(`/api/cart/${a.id}`,{method:"DELETE"}),c=await b.json();if(!b.ok)throw Error(c.message??"Failed to remove cart item.");g(b=>b.filter(b=>b.id!==a.id))}catch(a){k(a instanceof Error?a.message:"Unable to remove item right now.")}finally{o(b=>({...b,[a.id]:!1}))}}return((0,e.useEffect)(()=>{u()},[]),h)?(0,b.jsx)("div",{className:"min-h-screen bg-black px-6 py-16 text-white",children:(0,b.jsx)("div",{className:"mx-auto max-w-7xl rounded-2xl border border-zinc-800 bg-zinc-900/70 p-10 text-center text-zinc-300",children:"Loading cart..."})}):(0,b.jsx)("div",{className:"min-h-screen bg-black px-6 py-16 text-white",children:(0,b.jsxs)("div",{className:"mx-auto max-w-7xl",children:[(0,b.jsx)("h1",{className:"mb-10 text-5xl font-bold tracking-tight",children:"Shopping Cart"}),j?(0,b.jsx)("div",{className:"mb-6 rounded-xl border border-[#FF453A]/40 bg-[#FF453A]/10 p-4 text-sm text-[#FF8A80]",children:j}):null,0===a.length?(0,b.jsx)("div",{className:"rounded-2xl border border-dashed border-zinc-700 bg-zinc-900/70 p-10 text-center text-zinc-400",children:"Your cart is empty."}):(0,b.jsxs)("div",{className:"grid grid-cols-1 gap-6 lg:grid-cols-[1fr_420px]",children:[(0,b.jsx)("div",{className:"space-y-4",children:a.map((a,d)=>{let e=!!l[a.id],f=!!n[a.id],g=e||f;return(0,b.jsx)("div",{className:"rounded-2xl border border-zinc-800 bg-zinc-900/90 p-5",children:(0,b.jsxs)("div",{className:"flex flex-col gap-4 sm:flex-row sm:items-center sm:justify-between",children:[(0,b.jsxs)("div",{className:"flex items-center gap-4",children:[(0,b.jsx)("div",{className:"relative h-24 w-24 overflow-hidden rounded-xl bg-zinc-800",children:(0,b.jsx)(c.default,{alt:a.product.name,className:"h-full w-full object-cover",fill:!0,sizes:"96px",src:a.product.imageUrl??t[d%t.length]})}),(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-3xl font-semibold text-zinc-100",children:a.product.name}),(0,b.jsxs)("p",{className:"mt-1 text-xl text-zinc-400",children:["Price: $",a.product.price.toFixed(2)]}),(0,b.jsxs)("div",{className:"mt-4 flex items-center gap-4",children:[(0,b.jsx)("button",{className:"h-12 w-12 rounded-xl bg-zinc-800 text-2xl text-zinc-200 transition hover:bg-zinc-700 disabled:opacity-50",disabled:g||a.quantity<=1,onClick:()=>void v(a,a.quantity-1),type:"button",children:"-"}),(0,b.jsx)("span",{className:"min-w-8 text-center text-3xl font-semibold",children:a.quantity}),(0,b.jsx)("button",{className:"h-12 w-12 rounded-xl bg-zinc-800 text-2xl text-zinc-200 transition hover:bg-zinc-700 disabled:opacity-50",disabled:g||a.quantity>=a.product.stock,onClick:()=>void v(a,a.quantity+1),type:"button",children:"+"})]})]})]}),(0,b.jsxs)("div",{className:"flex items-center justify-between gap-4 sm:block",children:[(0,b.jsxs)("p",{className:"text-4xl font-bold text-zinc-100",children:["$",(a.product.price*a.quantity).toFixed(2)]}),(0,b.jsx)("button",{className:"mt-2 text-2xl text-red-400 transition hover:text-red-300 disabled:opacity-50",disabled:g,onClick:()=>void w(a),type:"button",children:"ðŸ—‘"})]})]})},a.id)})}),(0,b.jsxs)("div",{className:"h-fit rounded-2xl border border-zinc-800 bg-zinc-900/90 p-6",children:[(0,b.jsx)("h2",{className:"text-4xl font-semibold text-zinc-100",children:"Order Summary"}),(0,b.jsxs)("div",{className:"mt-8 space-y-4 text-2xl text-zinc-300",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsx)("span",{children:"Subtotal"}),(0,b.jsxs)("span",{className:"font-semibold text-zinc-100",children:["$",p.toFixed(2)]})]}),(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsx)("span",{children:"Delivery"}),(0,b.jsxs)("span",{className:"font-semibold text-zinc-100",children:["$",q.toFixed(2)]})]}),(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsx)("span",{children:"Tax"}),(0,b.jsxs)("span",{className:"font-semibold text-zinc-100",children:["$",r.toFixed(2)]})]})]}),(0,b.jsx)("div",{className:"my-8 h-px bg-zinc-800"}),(0,b.jsxs)("div",{className:"flex items-center justify-between text-4xl font-bold",children:[(0,b.jsx)("span",{children:"Total"}),(0,b.jsxs)("span",{children:["$",s.toFixed(2)]})]}),(0,b.jsx)(d.default,{className:"mt-8 inline-flex w-full items-center justify-center rounded-xl bg-[#4F7CFF] px-6 py-4 text-2xl font-semibold text-white transition hover:bg-[#3f6ef2]",href:"/checkout",children:"Proceed to Checkout"}),(0,b.jsx)(d.default,{className:"mt-5 inline-flex w-full items-center justify-center text-xl text-zinc-400 transition hover:text-zinc-200",href:"/",children:"Continue Shopping"})]})]})]})})}a.s(["default",()=>g])}];

//# sourceMappingURL=_08dab856._.js.map