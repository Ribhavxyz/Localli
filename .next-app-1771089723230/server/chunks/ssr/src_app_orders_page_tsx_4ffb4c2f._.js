module.exports=[76356,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(34614);function e(){let[a,e]=(0,c.useState)([]),[f,g]=(0,c.useState)(!0),[h,i]=(0,c.useState)(null),[j,k]=(0,c.useState)(new Set);(0,c.useEffect)(()=>{let a=!0;return async function(){try{g(!0),i(null);let b=await (0,d.authFetch)("/api/orders"),c=await b.json();if(!b.ok)throw Error(Array.isArray(c)?"Failed to fetch orders.":c.message??"Failed to fetch orders.");if(!a)return;e(Array.isArray(c)?c:[])}catch(b){if(!a)return;i(b instanceof Error?b.message:"Unable to load orders right now.")}finally{a&&g(!1)}}(),()=>{a=!1}},[]);let l=(0,c.useMemo)(()=>a.map(a=>({...a,items:a.items??a.orderItems??[]})),[a]);return(0,b.jsx)("div",{className:"min-h-screen bg-black px-6 py-16 text-white",children:(0,b.jsxs)("div",{className:"mx-auto max-w-7xl",children:[(0,b.jsx)("h1",{className:"mb-8 text-5xl font-bold tracking-tight",children:"My Orders"}),f?(0,b.jsx)("div",{className:"rounded-2xl border border-zinc-800 bg-zinc-900/80 p-8 text-center text-zinc-300",children:"Loading orders..."}):h?(0,b.jsx)("div",{className:"rounded-2xl border border-red-900/40 bg-red-950/20 p-6 text-red-300",children:h}):0===l.length?(0,b.jsx)("div",{className:"rounded-2xl border border-dashed border-zinc-700 bg-zinc-900/80 p-10 text-center text-zinc-400",children:"You have no orders yet."}):(0,b.jsx)("div",{className:"space-y-5",children:l.map(a=>{var c;let d,e,f=j.has(a.id),g=a.items??[];return(0,b.jsxs)("article",{className:"rounded-2xl border border-zinc-800 bg-zinc-900/90 p-6",children:[(0,b.jsxs)("div",{className:"flex flex-wrap items-start justify-between gap-4",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-3xl font-semibold text-zinc-100",children:(c=a.id,`ORD-${String(c+1e3).padStart(4,"0")}`)}),(0,b.jsx)("p",{className:"mt-1 text-xl text-zinc-400",children:Number.isNaN((d=new Date(a.createdAt)).getTime())?"Unknown date":d.toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"})})]}),(0,b.jsx)("span",{className:`rounded-xl px-4 py-2 text-lg font-medium ${(e=a.status.toLowerCase()).includes("delivered")?"bg-emerald-950/60 text-emerald-300":e.includes("transit")||e.includes("shipped")?"bg-blue-950/60 text-blue-300":e.includes("process")||e.includes("placed")?"bg-amber-950/60 text-amber-300":"bg-zinc-800 text-zinc-300"}`,children:a.status})]}),(0,b.jsx)("div",{className:"mt-6 h-px bg-zinc-800"}),(0,b.jsxs)("div",{className:"mt-5 flex flex-wrap items-center justify-between gap-4",children:[(0,b.jsxs)("div",{className:"flex items-center gap-10",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-base text-zinc-400",children:"Items"}),(0,b.jsx)("p",{className:"text-3xl font-semibold text-zinc-100",children:g.length})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-base text-zinc-400",children:"Total"}),(0,b.jsxs)("p",{className:"text-3xl font-semibold text-zinc-100",children:["$",a.total.toFixed(2)]})]})]}),(0,b.jsx)("button",{className:"rounded-xl bg-zinc-800 px-5 py-2.5 text-lg font-semibold text-zinc-100 transition hover:bg-zinc-700",onClick:()=>{var b;return b=a.id,void k(a=>{let c=new Set(a);return c.has(b)?c.delete(b):c.add(b),c})},type:"button",children:f?"Hide Details":"View Details"})]}),f?(0,b.jsx)("div",{className:"mt-5 rounded-xl border border-zinc-800 bg-black/40 p-4",children:0===g.length?(0,b.jsx)("p",{className:"text-sm text-zinc-400",children:"No item details available."}):(0,b.jsx)("ul",{className:"space-y-3",children:g.map(a=>(0,b.jsxs)("li",{className:"flex items-center justify-between rounded-lg border border-zinc-800 bg-zinc-900/60 px-4 py-3",children:[(0,b.jsxs)("div",{children:[(0,b.jsxs)("p",{className:"text-base font-medium text-zinc-100",children:["Product #",a.productId]}),(0,b.jsxs)("p",{className:"text-sm text-zinc-400",children:["Qty: ",a.quantity]})]}),(0,b.jsxs)("p",{className:"text-base font-semibold text-zinc-100",children:["$",(a.price*a.quantity).toFixed(2)]})]},a.id))})}):null]},a.id)})})]})})}a.s(["default",()=>e])}];

//# sourceMappingURL=src_app_orders_page_tsx_4ffb4c2f._.js.map