module.exports=[78321,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(34614),e=a.i(67149),f=a.i(54419),g=a.i(2274),h=a.i(77924),i=a.i(57431),j=a.i(88804),k=a.i(98621),l=a.i(44381),m=a.i(98563),n=a.i(1351),o=a.i(56295),p=a.i(12168),q=a.i(98382),r=a.i(44407),s=a.i(41386),t=a.i(51434),u=a.i(86864),v=a=>a.graphicalItems.polarItems,w=(0,l.createSelector)([r.pickAxisType,s.pickAxisId],p.itemAxisPredicate),x=(0,l.createSelector)([v,p.selectBaseAxis,w],p.combineGraphicalItemsSettings),y=(0,l.createSelector)([x],p.combineGraphicalItemsData),z=(0,l.createSelector)([y,m.selectChartDataAndAlwaysIgnoreIndexes],p.combineDisplayedData),A=(0,l.createSelector)([z,p.selectBaseAxis,x],p.combineAppliedValues);(0,l.createSelector)([z,p.selectBaseAxis,x],(a,b,c)=>c.length>0?a.flatMap(a=>c.flatMap(c=>{var d;return{value:(0,o.getValueByDataKey)(a,null!=(d=b.dataKey)?d:c.dataKey),errorDomain:[]}})).filter(Boolean):(null==b?void 0:b.dataKey)!=null?a.map(a=>({value:(0,o.getValueByDataKey)(a,b.dataKey),errorDomain:[]})):a.map(a=>({value:a,errorDomain:[]})));var B=()=>void 0,C=(0,l.createSelector)([z,p.selectBaseAxis,x,p.selectAllErrorBarSettings,r.pickAxisType],p.combineDomainOfAllAppliedNumericalValuesIncludingErrorValues),D=(0,l.createSelector)([p.selectBaseAxis,p.selectDomainDefinition,p.selectDomainFromUserPreference,B,C,B,q.selectChartLayout,r.pickAxisType],p.combineNumericalDomain),E=(0,l.createSelector)([p.selectBaseAxis,q.selectChartLayout,z,A,t.selectStackOffsetType,r.pickAxisType,D],p.combineAxisDomain),F=(0,l.createSelector)([E,p.selectRenderableAxisSettings,p.selectRealScaleType],p.combineNiceTicks),G=(0,l.createSelector)([p.selectBaseAxis,E,F,r.pickAxisType],p.combineAxisDomainWithNiceTicks);function H(a,b){var c=Object.keys(a);if(Object.getOwnPropertySymbols){var d=Object.getOwnPropertySymbols(a);b&&(d=d.filter(function(b){return Object.getOwnPropertyDescriptor(a,b).enumerable})),c.push.apply(c,d)}return c}function I(a){for(var b=1;b<arguments.length;b++){var c=null!=arguments[b]?arguments[b]:{};b%2?H(Object(c),!0).forEach(function(b){var d,e,f;d=a,e=b,f=c[b],(e=function(a){var b=function(a,b){if("object"!=typeof a||!a)return a;var c=a[Symbol.toPrimitive];if(void 0!==c){var d=c.call(a,b||"default");if("object"!=typeof d)return d;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===b?String:Number)(a)}(a,"string");return"symbol"==typeof b?b:b+""}(e))in d?Object.defineProperty(d,e,{value:f,enumerable:!0,configurable:!0,writable:!0}):d[e]=f}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(c)):H(Object(c)).forEach(function(b){Object.defineProperty(a,b,Object.getOwnPropertyDescriptor(c,b))})}return a}(0,l.createSelector)([p.selectRealScaleType,G],u.combineCheckedDomain);var J=(0,l.createSelector)([v,(a,b)=>b],(a,b)=>a.filter(a=>"pie"===a.type).find(a=>a.id===b)),K=[],L=(a,b,c)=>(null==c?void 0:c.length)===0?K:c,M=(0,l.createSelector)([m.selectChartDataAndAlwaysIgnoreIndexes,J,L],(a,b,c)=>{var d,{chartData:e}=a;if(null!=b&&((d=(null==b?void 0:b.data)!=null&&b.data.length>0?b.data:e)&&d.length||null==c||(d=c.map(a=>I(I({},b.presentationProps),a.props))),null!=d))return d}),N=(0,l.createSelector)([M,J,L],(a,b,c)=>{if(null!=a&&null!=b)return a.map((a,d)=>{var e,f,g=(0,o.getValueByDataKey)(a,b.nameKey,b.name);return f=null!=c&&null!=(e=c[d])&&null!=(e=e.props)&&e.fill?c[d].props.fill:"object"==typeof a&&null!=a&&"fill"in a?a.fill:b.fill,{value:(0,o.getTooltipNameProp)(g,b.dataKey),color:f,payload:a,type:b.legendType}})}),O=(0,l.createSelector)([M,J,L,n.selectChartOffsetInternal],(a,b,c,d)=>{if(null!=b&&null!=a)return function(a){var b,c,d,{pieSettings:e,displayedData:f,cells:g,offset:h}=a,{cornerRadius:i,startAngle:j,endAngle:k,dataKey:l,nameKey:m,tooltipType:n}=e,p=Math.abs(e.minAngle),q=(0,V.mathSign)(k-j)*Math.min(Math.abs(k-j),360),r=Math.abs(q),s=f.length<=1?0:null!=(b=e.paddingAngle)?b:0,t=f.filter(a=>0!==(0,o.getValueByDataKey)(a,l,0)).length,u=r-t*p-(r>=360?t:t-1)*s,v=f.reduce((a,b)=>{var c=(0,o.getValueByDataKey)(b,l,0);return a+((0,V.isNumber)(c)?c:0)},0);return v>0&&(c=f.map((a,b)=>{var c,f=(0,o.getValueByDataKey)(a,l,0),k=(0,o.getValueByDataKey)(a,m,b),r=((a,b,c)=>{var d,{top:e,left:f,width:g,height:h}=b,i=(0,U.getMaxRadius)(g,h),j=f+(0,V.getPercentValue)(a.cx,g,g/2),k=e+(0,V.getPercentValue)(a.cy,h,h/2),l=(0,V.getPercentValue)(a.innerRadius,i,0);return{cx:j,cy:k,innerRadius:l,outerRadius:(d=a.outerRadius,"function"==typeof d?(0,V.getPercentValue)(d(c),i,.8*i):(0,V.getPercentValue)(d,i,.8*i)),maxRadius:a.maxRadius||Math.sqrt(g*g+h*h)/2}})(e,h,a),t=((0,V.isNumber)(f)?f:0)/v,w=aq(aq({},a),g&&g[b]&&g[b].props),x=(c=b?d.endAngle+(0,V.mathSign)(q)*s*(0!==f):j)+(0,V.mathSign)(q)*((0!==f?p:0)+t*u),y=(c+x)/2,z=(r.innerRadius+r.outerRadius)/2,A=[{name:k,value:f,payload:w,dataKey:l,type:n,graphicalItemId:e.id}],B=(0,U.polarToCartesian)(r.cx,r.cy,z,y);return d=aq(aq(aq(aq({},e.presentationProps),{},{percent:t,cornerRadius:"string"==typeof i?parseFloat(i):i,name:k,tooltipPayload:A,midAngle:y,middleRadius:z,tooltipPosition:B},w),r),{},{value:f,dataKey:l,startAngle:c,endAngle:x,payload:w,paddingAngle:(0,V.mathSign)(q)*s})})),c}({offset:d,pieSettings:b,displayedData:a,cells:c})}),P=a.i(77368),Q=a.i(88949),R=a.i(13667),S=a.i(20299),T=a.i(37082),U=a.i(30261),V=a.i(68932),W=a.i(52517),X=a.i(56998),Y=a.i(89205),Z=a.i(12791),$=a.i(86505),_=a.i(92430),aa=a.i(5911),ab=a.i(62320),ac=a.i(87293),ad=a.i(46780),ae=a.i(77025),af=a.i(72853),ag=a.i(76342),ah=a.i(36319),ai=a.i(96268),aj=a.i(31080),ak=a.i(31845),al=["key"],am=["onMouseEnter","onClick","onMouseLeave"],an=["id"],ao=["id"];function ap(a,b){var c=Object.keys(a);if(Object.getOwnPropertySymbols){var d=Object.getOwnPropertySymbols(a);b&&(d=d.filter(function(b){return Object.getOwnPropertyDescriptor(a,b).enumerable})),c.push.apply(c,d)}return c}function aq(a){for(var b=1;b<arguments.length;b++){var c=null!=arguments[b]?arguments[b]:{};b%2?ap(Object(c),!0).forEach(function(b){var d,e,f;d=a,e=b,f=c[b],(e=function(a){var b=function(a,b){if("object"!=typeof a||!a)return a;var c=a[Symbol.toPrimitive];if(void 0!==c){var d=c.call(a,b||"default");if("object"!=typeof d)return d;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===b?String:Number)(a)}(a,"string");return"symbol"==typeof b?b:b+""}(e))in d?Object.defineProperty(d,e,{value:f,enumerable:!0,configurable:!0,writable:!0}):d[e]=f}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(c)):ap(Object(c)).forEach(function(b){Object.defineProperty(a,b,Object.getOwnPropertyDescriptor(c,b))})}return a}function ar(){return(ar=Object.assign.bind()).apply(null,arguments)}function as(a,b){if(null==a)return{};var c,d,e=function(a,b){if(null==a)return{};var c={};for(var d in a)if(({}).hasOwnProperty.call(a,d)){if(-1!==b.indexOf(d))continue;c[d]=a[d]}return c}(a,b);if(Object.getOwnPropertySymbols){var f=Object.getOwnPropertySymbols(a);for(d=0;d<f.length;d++)c=f[d],-1===b.indexOf(c)&&({}).propertyIsEnumerable.call(a,c)&&(e[c]=a[c])}return e}function at(a){var b=(0,c.useMemo)(()=>(0,T.findAllByType)(a.children,e.Cell),[a.children]),d=(0,P.useAppSelector)(c=>N(c,a.id,b));return null==d?null:c.createElement(_.SetPolarLegendPayload,{legendPayload:d})}var au=c.memo(a=>{var{dataKey:b,nameKey:d,sectors:e,stroke:f,strokeWidth:g,fill:h,name:i,hide:j,tooltipType:k,id:l}=a,m={dataDefinedOnItem:e.map(a=>a.tooltipPayload),getPosition:a=>{var b;return null==(b=e[Number(a)])?void 0:b.tooltipPosition},settings:{stroke:f,strokeWidth:g,fill:h,dataKey:b,nameKey:d,name:(0,o.getTooltipNameProp)(i,b),hide:j,type:k,color:h,unit:"",graphicalItemId:l}};return c.createElement(Z.SetTooltipEntrySettings,{tooltipEntrySettings:m})});function av(a){var{sectors:b,props:d,showLabels:e}=a,{label:f,labelLine:g,dataKey:h}=d;if(!e||!f||!b)return null;var i=(0,af.svgPropertiesNoEvents)(d),j=(0,af.svgPropertiesNoEventsFromUnknown)(f),l=(0,af.svgPropertiesNoEventsFromUnknown)(g),m="object"==typeof f&&"offsetRadius"in f&&"number"==typeof f.offsetRadius&&f.offsetRadius||20,n=b.map((a,b)=>{var d,e,n=(a.startAngle+a.endAngle)/2,p=(0,U.polarToCartesian)(a.cx,a.cy,a.outerRadius+m,n),q=aq(aq(aq(aq({},i),a),{},{stroke:"none"},j),{},{index:b,textAnchor:(d=p.x)>(e=a.cx)?"start":d<e?"end":"middle"},p),r=aq(aq(aq(aq({},i),a),{},{fill:"none",stroke:a.fill},l),{},{index:b,points:[(0,U.polarToCartesian)(a.cx,a.cy,a.outerRadius,n),p],key:"line"});return c.createElement(ai.ZIndexLayer,{zIndex:aj.DefaultZIndexes.label,key:"label-".concat(a.startAngle,"-").concat(a.endAngle,"-").concat(a.midAngle,"-").concat(b)},c.createElement(Q.Layer,null,g&&((a,b)=>{if(c.isValidElement(a))return c.cloneElement(a,b);if("function"==typeof a)return a(b);var d=(0,k.clsx)("recharts-pie-label-line","boolean"!=typeof a?a.className:""),{key:e}=b,f=as(b,al);return c.createElement(R.Curve,ar({},f,{type:"linear",className:d}))})(g,r),((a,b,d)=>{if(c.isValidElement(a))return c.cloneElement(a,b);var e=d;if("function"==typeof a&&(e=a(b),c.isValidElement(e)))return e;var f=(0,k.clsx)("recharts-pie-label-text",(0,ak.getClassNameFromUnknown)(a));return c.createElement(S.Text,ar({},b,{alignmentBaseline:"middle",className:f}),e)})(f,q,(0,o.getValueByDataKey)(a,h))))});return c.createElement(Q.Layer,{className:"recharts-pie-labels"},n)}function aw(a){var{sectors:b,props:d,showLabels:e}=a,{label:f}=d;return"object"==typeof f&&null!=f&&"position"in f?c.createElement(ah.LabelListFromLabelProp,{label:f}):c.createElement(av,{sectors:b,props:d,showLabels:e})}function ax(a){var{sectors:b,activeShape:d,inactiveShape:e,allOtherPieProps:f,shape:g,id:h}=a,i=(0,P.useAppSelector)($.selectActiveTooltipIndex),j=(0,P.useAppSelector)($.selectActiveTooltipDataKey),k=(0,P.useAppSelector)($.selectActiveTooltipGraphicalItemId),{onMouseEnter:l,onClick:m,onMouseLeave:n}=f,o=as(f,am),p=(0,Y.useMouseEnterItemDispatch)(l,f.dataKey,h),q=(0,Y.useMouseLeaveItemDispatch)(n),r=(0,Y.useMouseClickItemDispatch)(m,f.dataKey,h);return null==b||0===b.length?null:c.createElement(c.Fragment,null,b.map((a,l)=>{if((null==a?void 0:a.startAngle)===0&&(null==a?void 0:a.endAngle)===0&&1!==b.length)return null;var m=null==k||k===h,n=String(l)===i&&(null==j||f.dataKey===j)&&m,s=d&&n?d:i?e:null,t=aq(aq({},a),{},{stroke:a.stroke,tabIndex:-1,[aa.DATA_ITEM_INDEX_ATTRIBUTE_NAME]:l,[aa.DATA_ITEM_GRAPHICAL_ITEM_ID_ATTRIBUTE_NAME]:h});return c.createElement(Q.Layer,ar({key:"sector-".concat(null==a?void 0:a.startAngle,"-").concat(null==a?void 0:a.endAngle,"-").concat(a.midAngle,"-").concat(l),tabIndex:-1,className:"recharts-pie-sector"},(0,W.adaptEventsOfChild)(o,a,l),{onMouseEnter:p(a,l),onMouseLeave:q(a,l),onClick:r(a,l)}),c.createElement(X.Shape,ar({option:null!=g?g:s,index:l,shapeType:"sector",isActive:n},t)))}))}function ay(a){var{showLabels:b,sectors:d,children:e}=a,f=(0,c.useMemo)(()=>b&&d?d.map(a=>({value:a.value,payload:a.payload,clockWise:!1,parentViewBox:void 0,viewBox:{cx:a.cx,cy:a.cy,innerRadius:a.innerRadius,outerRadius:a.outerRadius,startAngle:a.startAngle,endAngle:a.endAngle,clockWise:!1},fill:a.fill})):[],[d,b]);return c.createElement(ah.PolarLabelListContextProvider,{value:b?f:void 0},e)}function az(a){var{props:b,previousSectorsRef:d,id:e}=a,{sectors:f,isAnimationActive:g,animationBegin:h,animationDuration:i,animationEasing:k,activeShape:l,inactiveShape:m,onAnimationStart:n,onAnimationEnd:o}=b,p=(0,ab.useAnimationId)(b,"recharts-pie-"),q=d.current,[r,s]=(0,c.useState)(!1),t=(0,c.useCallback)(()=>{"function"==typeof o&&o(),s(!1)},[o]),u=(0,c.useCallback)(()=>{"function"==typeof n&&n(),s(!0)},[n]);return c.createElement(ay,{showLabels:!r,sectors:f},c.createElement(ag.JavascriptAnimate,{animationId:p,begin:h,duration:i,isActive:g,easing:k,onAnimationStart:u,onAnimationEnd:t,key:p},a=>{var g,h=[],i=f&&f[0],k=null!=(g=null==i?void 0:i.startAngle)?g:0;return null==f||f.forEach((b,c)=>{var d=q&&q[c],e=c>0?(0,j.default)(b,"paddingAngle",0):0;if(d){var f=(0,V.interpolate)(d.endAngle-d.startAngle,b.endAngle-b.startAngle,a),g=aq(aq({},b),{},{startAngle:k+e,endAngle:k+f+e});h.push(g),k=g.endAngle}else{var{endAngle:i,startAngle:l}=b,m=(0,V.interpolate)(0,i-l,a),n=aq(aq({},b),{},{startAngle:k+e,endAngle:k+m+e});h.push(n),k=n.endAngle}}),d.current=h,c.createElement(Q.Layer,null,c.createElement(ax,{sectors:h,activeShape:l,inactiveShape:m,allOtherPieProps:b,shape:b.shape,id:e}))}),c.createElement(aw,{showLabels:!r,sectors:f,props:b}),b.children)}var aA={animationBegin:400,animationDuration:1500,animationEasing:"ease",cx:"50%",cy:"50%",dataKey:"value",endAngle:360,fill:"#808080",hide:!1,innerRadius:0,isAnimationActive:"auto",label:!1,labelLine:!0,legendType:"rect",minAngle:0,nameKey:"name",outerRadius:"80%",paddingAngle:0,rootTabIndex:0,startAngle:0,stroke:"#fff",zIndex:aj.DefaultZIndexes.area};function aB(a){var{id:b}=a,d=as(a,an),{hide:f,className:g,rootTabIndex:h}=a,i=(0,c.useMemo)(()=>(0,T.findAllByType)(a.children,e.Cell),[a.children]),j=(0,P.useAppSelector)(a=>O(a,b,i)),l=(0,c.useRef)(null),m=(0,k.clsx)("recharts-pie",g);return f||null==j?(l.current=null,c.createElement(Q.Layer,{tabIndex:h,className:m})):c.createElement(ai.ZIndexLayer,{zIndex:a.zIndex},c.createElement(au,{dataKey:a.dataKey,nameKey:a.nameKey,sectors:j,stroke:a.stroke,strokeWidth:a.strokeWidth,fill:a.fill,name:a.name,hide:a.hide,tooltipType:a.tooltipType,id:b}),c.createElement(Q.Layer,{tabIndex:h,className:m},c.createElement(az,{props:aq(aq({},d),{},{sectors:j}),previousSectorsRef:l,id:b})))}function aC(a){var b=(0,ac.resolveDefaultProps)(a,aA),{id:d}=b,e=as(b,ao),f=(0,af.svgPropertiesNoEvents)(e);return c.createElement(ad.RegisterGraphicalItemId,{id:d,type:"pie"},a=>c.createElement(c.Fragment,null,c.createElement(ae.SetPolarGraphicalItem,{type:"pie",id:a,data:e.data,dataKey:e.dataKey,hide:e.hide,angleAxisId:0,radiusAxisId:0,name:e.name,nameKey:e.nameKey,tooltipType:e.tooltipType,legendType:e.legendType,fill:e.fill,cx:e.cx,cy:e.cy,startAngle:e.startAngle,endAngle:e.endAngle,paddingAngle:e.paddingAngle,minAngle:e.minAngle,innerRadius:e.innerRadius,outerRadius:e.outerRadius,cornerRadius:e.cornerRadius,presentationProps:f,maxRadius:b.maxRadius}),c.createElement(at,ar({},e,{id:a})),c.createElement(aB,ar({},e,{id:a}))))}aC.displayName="Pie";var aD=a.i(554),aE=a.i(77071),aF=a.i(28792),aG=a.i(80032),aH=a.i(27622),aI=a.i(30159);function aJ(a){var b=(0,P.useAppDispatch)();return(0,c.useEffect)(()=>{b((0,aI.updatePolarOptions)(a))},[b,a]),null}var aK=a.i(46364),aL=["layout"];function aM(){return(aM=Object.assign.bind()).apply(null,arguments)}var aN={accessibilityLayer:!0,stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index",layout:"radial",responsive:!1,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"},aO=(0,c.forwardRef)(function(a,b){var d,e=(0,ac.resolveDefaultProps)(a.categoricalChartProps,aN),{layout:f}=e,g=function(a,b){if(null==a)return{};var c,d,e=function(a,b){if(null==a)return{};var c={};for(var d in a)if(({}).hasOwnProperty.call(a,d)){if(-1!==b.indexOf(d))continue;c[d]=a[d]}return c}(a,b);if(Object.getOwnPropertySymbols){var f=Object.getOwnPropertySymbols(a);for(d=0;d<f.length;d++)c=f[d],-1===b.indexOf(c)&&({}).propertyIsEnumerable.call(a,c)&&(e[c]=a[c])}return e}(e,aL),{chartName:h,defaultTooltipEventType:i,validateTooltipEventTypes:j,tooltipPayloadSearcher:k}=a;return c.createElement(aE.RechartsStoreProvider,{preloadedState:{options:{chartName:h,defaultTooltipEventType:i,validateTooltipEventTypes:j,tooltipPayloadSearcher:k,eventEmitter:void 0}},reduxStoreName:null!=(d=e.id)?d:h},c.createElement(aF.ChartDataContextProvider,{chartData:e.data}),c.createElement(aG.ReportMainChartProps,{layout:f,margin:e.margin}),c.createElement(aH.ReportChartProps,{baseValue:void 0,accessibilityLayer:e.accessibilityLayer,barCategoryGap:e.barCategoryGap,maxBarSize:e.maxBarSize,stackOffset:e.stackOffset,barGap:e.barGap,barSize:e.barSize,syncId:e.syncId,syncMethod:e.syncMethod,className:e.className,reverseStackOrder:e.reverseStackOrder}),c.createElement(aJ,{cx:e.cx,cy:e.cy,startAngle:e.startAngle,endAngle:e.endAngle,innerRadius:e.innerRadius,outerRadius:e.outerRadius}),c.createElement(aK.CategoricalChart,aM({},g,{ref:b})))});function aP(a,b){var c=Object.keys(a);if(Object.getOwnPropertySymbols){var d=Object.getOwnPropertySymbols(a);b&&(d=d.filter(function(b){return Object.getOwnPropertyDescriptor(a,b).enumerable})),c.push.apply(c,d)}return c}function aQ(a){for(var b=1;b<arguments.length;b++){var c=null!=arguments[b]?arguments[b]:{};b%2?aP(Object(c),!0).forEach(function(b){var d,e,f;d=a,e=b,f=c[b],(e=function(a){var b=function(a,b){if("object"!=typeof a||!a)return a;var c=a[Symbol.toPrimitive];if(void 0!==c){var d=c.call(a,b||"default");if("object"!=typeof d)return d;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===b?String:Number)(a)}(a,"string");return"symbol"==typeof b?b:b+""}(e))in d?Object.defineProperty(d,e,{value:f,enumerable:!0,configurable:!0,writable:!0}):d[e]=f}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(c)):aP(Object(c)).forEach(function(b){Object.defineProperty(a,b,Object.getOwnPropertyDescriptor(c,b))})}return a}var aR=["item"],aS=aQ(aQ({},aN),{},{layout:"centric",startAngle:0,endAngle:360}),aT=(0,c.forwardRef)((a,b)=>{var d=(0,ac.resolveDefaultProps)(a,aS);return c.createElement(aO,{chartName:"PieChart",defaultTooltipEventType:"item",validateTooltipEventTypes:aR,tooltipPayloadSearcher:aD.arrayTooltipSearcher,categoricalChartProps:d,ref:b})}),aU=a.i(48662),aV=a.i(59854),aW=a.i(58042),aX=a.i(94222);function aY(){let[a,j]=(0,c.useState)(null),[k,l]=(0,c.useState)([]),[m,n]=(0,c.useState)(!0),[o,p]=(0,c.useState)(null);(0,c.useEffect)(()=>{let a=!0;return async function(){try{n(!0),p(null);let[b,c]=await Promise.all([(0,d.authFetch)("/api/vendor/analytics"),(0,d.authFetch)("/api/vendor/orders")]),e=await b.json(),f=await c.json();if(!b.ok)throw Error("totalRevenue"in e?"Failed to load analytics":e.message??"Failed to load analytics");if(!c.ok)throw Error(Array.isArray(f)?"Failed to load analytics orders":f.message??"Failed to load analytics orders");if(!a)return;j(e),l(Array.isArray(f)?f:[])}catch(b){if(!a)return;p(b instanceof Error?b.message:"Unable to load analytics.")}finally{a&&n(!1)}}(),()=>{a=!1}},[]);let q=(0,c.useMemo)(()=>a&&0!==a.totalPurchases?a.totalRevenue/a.totalPurchases:0,[a]),r=(0,c.useMemo)(()=>(function(a){let b=new Date,c=[];for(let a=5;a>=0;a-=1){let d=new Date(b.getFullYear(),b.getMonth()-a,1),e=`${d.getFullYear()}-${String(d.getMonth()+1).padStart(2,"0")}`;c.push({key:e,label:d.toLocaleDateString(void 0,{month:"short"})})}let d=new Map;for(let a of c)d.set(a.key,{revenue:0,orders:0});for(let b of a){let a=new Date(b.createdAt);if(Number.isNaN(a.getTime()))continue;let c=`${a.getFullYear()}-${String(a.getMonth()+1).padStart(2,"0")}`;if(!d.has(c))continue;let e=d.get(c);e.revenue+=b.total,e.orders+=1,d.set(c,e)}return c.map(a=>{let b=d.get(a.key)??{revenue:0,orders:0};return{label:a.label,revenue:Number(b.revenue.toFixed(2)),orders:b.orders}})})(k),[k]),s=(0,c.useMemo)(()=>(a?.categorySales??[]).slice(0,4).map(a=>({name:a.category,value:a.revenue})),[a]);return m?(0,b.jsx)("div",{className:"rounded-2xl border border-zinc-800 bg-zinc-900/80 p-10 text-center text-zinc-300",children:"Loading analytics..."}):o||!a?(0,b.jsx)("div",{className:"rounded-2xl border border-red-900/40 bg-red-950/20 p-6 text-red-300",children:o??"Failed to load analytics."}):(0,b.jsxs)("div",{className:"space-y-8",children:[(0,b.jsx)("h1",{className:"text-5xl font-bold tracking-tight md:text-6xl",children:"Analytics"}),(0,b.jsxs)("section",{className:"grid grid-cols-1 gap-6 md:grid-cols-2 xl:grid-cols-4",children:[(0,b.jsx)(aZ,{label:"Total Revenue",value:`$${a.totalRevenue.toLocaleString()}`,accent:"blue"}),(0,b.jsx)(aZ,{label:"Total Orders",value:a.totalPurchases.toString(),accent:"green"}),(0,b.jsx)(aZ,{label:"New Customers",value:Math.max(a.totalClicks-a.totalCartAdds,0).toString(),accent:"amber"}),(0,b.jsx)(aZ,{label:"Avg Order Value",value:`$${q.toFixed(2)}`,accent:"purple"})]}),(0,b.jsxs)("section",{className:"grid grid-cols-1 gap-6 xl:grid-cols-[2fr_1fr]",children:[(0,b.jsxs)("div",{className:"rounded-2xl border border-zinc-800 bg-zinc-900/90 p-6",children:[(0,b.jsx)("h2",{className:"text-4xl font-semibold",children:"Revenue & Orders Trend"}),(0,b.jsx)("div",{className:"mt-5 h-[400px]",children:(0,b.jsx)(aU.ResponsiveContainer,{height:"100%",width:"100%",children:(0,b.jsxs)(i.LineChart,{data:r,margin:{top:10,right:16,left:0,bottom:10},children:[(0,b.jsx)(f.CartesianGrid,{stroke:"#2f2f34",strokeDasharray:"4 6"}),(0,b.jsx)(aW.XAxis,{axisLine:{stroke:"#3F3F46"},dataKey:"label",tick:{fill:"#A1A1AA",fontSize:12},tickLine:!1}),(0,b.jsx)(aX.YAxis,{axisLine:{stroke:"#3F3F46"},tick:{fill:"#A1A1AA",fontSize:12},tickLine:!1,yAxisId:"left"}),(0,b.jsx)(aX.YAxis,{axisLine:{stroke:"#3F3F46"},orientation:"right",tick:{fill:"#A1A1AA",fontSize:12},tickLine:!1,yAxisId:"right"}),(0,b.jsx)(aV.Tooltip,{contentStyle:{backgroundColor:"#1C1C1E",border:"1px solid #3F3F46",borderRadius:"12px",color:"#FFFFFF"},formatter:(a,b)=>{let c="number"==typeof a?a:Number(a??0);return"Revenue"===b?[`$${c.toFixed(2)}`,b]:[c,b]},labelStyle:{color:"#FFFFFF"}}),(0,b.jsx)(g.Legend,{wrapperStyle:{color:"#A1A1AA"}}),(0,b.jsx)(h.Line,{dataKey:"revenue",dot:{fill:"#4F7CFF",r:4,strokeWidth:0},name:"Revenue",stroke:"#4F7CFF",strokeWidth:3,type:"monotone",yAxisId:"left"}),(0,b.jsx)(h.Line,{dataKey:"orders",dot:{fill:"#30D158",r:4,strokeWidth:0},name:"Orders",stroke:"#30D158",strokeWidth:3,type:"monotone",yAxisId:"right"})]})})})]}),(0,b.jsxs)("div",{className:"rounded-2xl border border-zinc-800 bg-zinc-900/90 p-6",children:[(0,b.jsx)("h2",{className:"text-4xl font-semibold",children:"Sales by Category"}),(0,b.jsx)("div",{className:"mt-5 h-[400px]",children:0===s.length?(0,b.jsx)("div",{className:"flex h-full items-center justify-center rounded-xl border border-dashed border-zinc-700 text-zinc-400",children:"No purchase data yet."}):(0,b.jsx)(aU.ResponsiveContainer,{height:"100%",width:"100%",children:(0,b.jsxs)(aT,{children:[(0,b.jsx)(aV.Tooltip,{contentStyle:{backgroundColor:"#1C1C1E",border:"1px solid #3F3F46",borderRadius:"12px",color:"#FFFFFF"},formatter:a=>{let b="number"==typeof a?a:Number(a??0);return[`$${b.toFixed(2)}`,"Revenue"]},labelStyle:{color:"#FFFFFF"}}),(0,b.jsx)(g.Legend,{wrapperStyle:{color:"#A1A1AA",fontSize:"12px"}}),(0,b.jsx)(aC,{cx:"50%",cy:"45%",data:s,dataKey:"value",innerRadius:70,nameKey:"name",outerRadius:120,children:s.map((a,c)=>(0,b.jsx)(e.Cell,{fill:a$[c%a$.length]},c))})]})})})]})]})]})}function aZ({label:a,value:c,accent:d}){return(0,b.jsxs)("article",{className:"rounded-2xl border border-zinc-800 bg-zinc-900/90 p-6",children:[(0,b.jsx)("p",{className:"text-2xl text-zinc-400",children:a}),(0,b.jsx)("p",{className:`mt-4 text-6xl font-bold ${{blue:"text-blue-400",green:"text-emerald-400",amber:"text-amber-400",purple:"text-violet-400"}[d]}`,children:c}),(0,b.jsx)("p",{className:"mt-2 text-lg text-[#30D158]",children:"+ from last month"})]})}let a$=["#4F7CFF","#30D158","#F59E0B","#8B5CF6"];a.s(["default",()=>aY],78321)}];

//# sourceMappingURL=src_app_vendor_analytics_page_tsx_6367a6a1._.js.map