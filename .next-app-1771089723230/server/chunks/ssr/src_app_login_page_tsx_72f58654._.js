module.exports=[93482,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(50944),e=a.i(32636);async function f(a){let b=await fetch("/api/auth/me",{headers:{Authorization:`Bearer ${a}`}});if(!b.ok)throw Error("Unable to resolve user role");let c=await b.json();if("CUSTOMER"!==c.user.role&&"VENDOR"!==c.user.role&&"ADMIN"!==c.user.role)throw Error("Invalid user role");return c.user.role}function g(){let a=(0,d.useRouter)(),{login:g}=(0,e.useAuth)(),[h,i]=(0,c.useState)(""),[j,k]=(0,c.useState)(""),[l,m]=(0,c.useState)(!1),[n,o]=(0,c.useState)(null);async function p(b){b.preventDefault(),m(!0),o(null);try{let b=await fetch("/api/auth/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:h,password:j})}),c=await b.json();if(!b.ok||!c.token)throw Error(c.message??"Unable to log in. Please try again.");let d=await f(c.token);g(c.token,d),"VENDOR"===d?a.replace("/vendor"):"ADMIN"===d?a.replace("/admin"):a.replace("/")}catch(a){o(a instanceof Error?a.message:"Unable to log in. Please try again.")}finally{m(!1)}}return(0,b.jsx)("div",{className:"min-h-screen bg-black px-6 py-16",children:(0,b.jsxs)("div",{className:"mx-auto max-w-7xl",children:[(0,b.jsxs)("div",{className:"mx-auto max-w-xl text-center",children:[(0,b.jsx)("h1",{className:"text-5xl font-bold tracking-tight text-white md:text-6xl",children:"Welcome Back"}),(0,b.jsx)("p",{className:"mt-3 text-xl text-zinc-400 md:text-2xl",children:"Sign in to your Localli account"})]}),(0,b.jsxs)("div",{className:"mx-auto mt-10 w-full max-w-[560px] rounded-3xl border border-zinc-800 bg-zinc-900/90 p-8 md:p-10",children:[(0,b.jsxs)("form",{className:"space-y-6",onSubmit:p,children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"mb-2 block text-sm font-medium text-zinc-400",htmlFor:"email",children:"Email"}),(0,b.jsx)("input",{className:"w-full rounded-xl border border-zinc-800 bg-black px-5 py-4 text-2xl text-white outline-none ring-[#4F7CFF] placeholder:text-zinc-500 focus:ring-2",id:"email",onChange:a=>i(a.target.value),required:!0,type:"email",value:h})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"mb-2 block text-sm font-medium text-zinc-400",htmlFor:"password",children:"Password"}),(0,b.jsx)("input",{className:"w-full rounded-xl border border-zinc-800 bg-black px-5 py-4 text-2xl text-white outline-none ring-[#4F7CFF] placeholder:text-zinc-500 focus:ring-2",id:"password",onChange:a=>k(a.target.value),required:!0,type:"password",value:j})]}),n?(0,b.jsx)("p",{className:"text-lg text-[#FF453A]",children:n}):null,(0,b.jsx)("button",{className:"w-full rounded-xl bg-[#4F7CFF] px-5 py-4 text-3xl font-semibold text-white transition hover:bg-[#3f6ef2] disabled:cursor-not-allowed disabled:opacity-60",disabled:l,type:"submit",children:l?"Signing in...":"Sign In"})]}),(0,b.jsxs)("p",{className:"mt-6 text-center text-lg text-zinc-400",children:["Don't have an account?"," ",(0,b.jsx)("a",{className:"text-[#4F7CFF] transition hover:text-[#6A8CFF]",href:"/signup",children:"Sign up"})]})]})]})})}a.s(["default",()=>g])}];

//# sourceMappingURL=src_app_login_page_tsx_72f58654._.js.map