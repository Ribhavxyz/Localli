module.exports=[35112,(a,b,c)=>{"use strict";b.exports=a.r(42602).vendored["react-ssr"].ReactDOM},33354,(a,b,c)=>{"use strict";c._=function(a){return a&&a.__esModule?a:{default:a}}},33095,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0});var d={default:function(){return k},getImageProps:function(){return j}};for(var e in d)Object.defineProperty(c,e,{enumerable:!0,get:d[e]});let f=a.r(33354),g=a.r(94915),h=a.r(67161),i=f._(a.r(2305));function j(a){let{props:b}=(0,g.getImgProps)(a,{defaultLoader:i.default,imgConf:{deviceSizes:[640,750,828,1080,1200,1920,2048,3840],imageSizes:[32,48,64,96,128,256,384],qualities:[75],path:"/_next/image",loader:"default",dangerouslyAllowSVG:!1,unoptimized:!1}});for(let[a,c]of Object.entries(b))void 0===c&&delete b[a];return{props:b}}let k=h.Image},71987,(a,b,c)=>{b.exports=a.r(33095)},40777,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(71987),e=a.i(38246),f=a.i(34614);let g=["https://images.unsplash.com/photo-1582655299221-2b6bff351df0?auto=format&fit=crop&w=900&q=80","https://images.unsplash.com/photo-1549931319-a545dcf3bc73?auto=format&fit=crop&w=900&q=80","https://images.unsplash.com/photo-1582722872445-44dc5f7e3c8f?auto=format&fit=crop&w=900&q=80","https://images.unsplash.com/photo-1517701550927-30cf4ba1f5f5?auto=format&fit=crop&w=900&q=80"];function h(){let[a,h]=(0,c.useState)([]),[i,j]=(0,c.useState)(!0),[k,l]=(0,c.useState)(null),[m,n]=(0,c.useState)(new Set),[o,p]=(0,c.useState)({});(0,c.useEffect)(()=>{let a=!0;return async function(){try{j(!0),l(null);let b=await fetch("/api/products");if(!b.ok)throw Error("Unable to load products right now.");let c=await b.json();if(!a)return;h(Array.isArray(c)?c:[])}catch(b){if(!a)return;l(b instanceof Error?b.message:"Something went wrong while loading products.")}finally{a&&j(!1)}}(),()=>{a=!1}},[]);let q=(0,c.useMemo)(()=>a.slice(0,8),[a]);async function r(a){n(b=>{let c=new Set(b);return c.add(a),c}),p(b=>({...b,[a]:""}));try{let b=await (0,f.authFetch)("/api/cart",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({productId:a,quantity:1})}),c=await b.json();if(!b.ok)throw Error(c.message??"Failed to add to cart.");p(b=>({...b,[a]:"Added to cart."}))}catch(c){let b=c instanceof Error?c.message:"Unable to add this product right now.";p(c=>({...c,[a]:b}))}finally{n(b=>{let c=new Set(b);return c.delete(a),c})}}return(0,b.jsx)("div",{className:"min-h-screen bg-black text-white",children:(0,b.jsxs)("main",{className:"mx-auto max-w-7xl px-6 py-16",children:[(0,b.jsxs)("section",{className:"mx-auto max-w-4xl text-center",children:[(0,b.jsx)("h1",{className:"text-5xl font-bold leading-tight",children:"Discover What's Near You"}),(0,b.jsx)("p",{className:"mt-4 text-lg text-zinc-400",children:"Support local businesses and get fresh products delivered to your door"}),(0,b.jsxs)("div",{className:"mx-auto mt-10 flex max-w-4xl flex-col gap-4 sm:flex-row",children:[(0,b.jsxs)("div",{className:"flex flex-1 items-center rounded-lg border border-zinc-800 bg-zinc-900 px-4 py-3",children:[(0,b.jsxs)("svg",{"aria-hidden":"true",className:"mr-3 h-5 w-5 text-zinc-500",fill:"none",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:[(0,b.jsx)("circle",{cx:"11",cy:"11",r:"7",stroke:"currentColor",strokeWidth:"2"}),(0,b.jsx)("path",{d:"M20 20L17 17",stroke:"currentColor",strokeLinecap:"round",strokeWidth:"2"})]}),(0,b.jsx)("input",{className:"w-full bg-transparent text-zinc-100 outline-none placeholder:text-zinc-500",placeholder:"Search products, stores...",type:"text"})]}),(0,b.jsx)("button",{className:"rounded-lg bg-zinc-800 px-6 py-3 text-sm font-medium text-zinc-100 transition hover:bg-zinc-700",type:"button",children:"Location"})]})]}),(0,b.jsxs)("section",{className:"mt-20",children:[(0,b.jsx)("h2",{className:"text-2xl font-semibold",children:"Available Products"}),i?(0,b.jsx)("div",{className:"mt-6 rounded-xl border border-zinc-800 bg-zinc-900 p-6 text-zinc-300",children:"Loading products..."}):k?(0,b.jsx)("div",{className:"mt-6 rounded-xl border border-red-900/40 bg-red-950/20 p-6 text-red-300",children:k}):0===q.length?(0,b.jsx)("div",{className:"mt-6 rounded-xl border border-zinc-800 bg-zinc-900 p-6 text-zinc-400",children:"No products available at the moment."}):(0,b.jsx)("div",{className:"mt-6 grid grid-cols-1 gap-6 md:grid-cols-2 lg:grid-cols-4",children:q.map((a,c)=>{let f=m.has(a.id),h=a.stock<=0,i=o[a.id];return(0,b.jsxs)("article",{className:"overflow-hidden rounded-2xl border border-zinc-800 bg-zinc-900/95",children:[(0,b.jsx)(e.default,{className:"block",href:`/products/${a.id}`,children:(0,b.jsx)("div",{className:"relative aspect-[4/3] w-full",children:(0,b.jsx)(d.default,{alt:a.name,className:"h-full w-full object-cover",fill:!0,sizes:"(max-width: 768px) 100vw, 25vw",src:g[c%g.length]})})}),(0,b.jsxs)("div",{className:"p-5",children:[(0,b.jsx)(e.default,{className:"line-clamp-1 text-[1.75rem]/7 font-semibold tracking-tight text-zinc-100 transition hover:text-white",href:`/products/${a.id}`,children:a.name}),(0,b.jsx)("p",{className:"mt-1 text-xl font-medium text-zinc-400",children:a.store.name}),(0,b.jsxs)("div",{className:"mt-4 flex items-center justify-between",children:[(0,b.jsxs)("p",{className:"text-[2rem] font-bold text-white",children:["$",a.price.toFixed(2)]}),(0,b.jsx)("span",{className:`rounded-full px-3 py-1 text-sm ${h?"bg-red-950/70 text-red-300":"bg-emerald-950/70 text-emerald-300"}`,children:h?"Out of stock":`${a.stock} in stock`})]}),(0,b.jsx)("button",{className:"mt-4 w-full rounded-xl bg-[#4F7CFF] px-3 py-3 text-xl font-semibold text-white transition hover:bg-[#3f6ef2] disabled:cursor-not-allowed disabled:bg-zinc-700 disabled:text-zinc-400",disabled:h||f,onClick:()=>void r(a.id),type:"button",children:f?"Adding...":"Add to cart"}),i?(0,b.jsx)("p",{className:`mt-2 text-sm ${"Added to cart."===i?"text-[#30D158]":"text-red-400"}`,children:i}):null]})]},a.id)})})]})]})})}a.s(["default",()=>h])}];

//# sourceMappingURL=_416babf0._.js.map