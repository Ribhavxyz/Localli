module.exports=[49846,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(46744),e=a.i(2274),f=a.i(77924),g=a.i(57431),h=a.i(48662),i=a.i(59854),j=a.i(58042),k=a.i(94222);function l({days:a,clusters:d}){let l=(0,c.useMemo)(()=>{let a,b;return a=d.reduce((a,b)=>a+b.previousDemandScore,0),b=d.reduce((a,b)=>a+b.currentDemandScore,0),[{period:"Prev Window",demand:Number(a.toFixed(2))},{period:"Curr Window",demand:Number(b.toFixed(2))}]},[d]);return 0===d.length?(0,b.jsxs)("div",{className:"rounded-xl border border-zinc-800 bg-zinc-900 p-6",children:[(0,b.jsx)("h3",{className:"text-base font-medium text-zinc-100",children:"Growth Trend"}),(0,b.jsx)("div",{className:"mt-4 flex h-56 items-center justify-center rounded-xl border border-dashed border-zinc-700",children:(0,b.jsx)("span",{className:"text-sm text-zinc-500",children:"No growth data available"})})]}):(0,b.jsxs)("div",{className:"rounded-xl border border-zinc-800 bg-zinc-900 p-6",children:[(0,b.jsxs)("h3",{className:"text-base font-medium text-zinc-100",children:["Growth Trend (",a," days)"]}),(0,b.jsx)("div",{className:"mt-4 h-56",children:(0,b.jsx)(h.ResponsiveContainer,{height:"100%",width:"100%",children:(0,b.jsxs)(g.LineChart,{data:l,margin:{top:8,right:12,left:0,bottom:0},children:[(0,b.jsx)(j.XAxis,{axisLine:{stroke:"#3F3F46"},dataKey:"period",tick:{fill:"#A1A1AA",fontSize:12},tickLine:!1}),(0,b.jsx)(k.YAxis,{axisLine:{stroke:"#3F3F46"},tick:{fill:"#A1A1AA",fontSize:12},tickLine:!1}),(0,b.jsx)(i.Tooltip,{contentStyle:{backgroundColor:"#1C1C1E",border:"1px solid #3F3F46",borderRadius:"12px",color:"#FFFFFF"},formatter:a=>[("number"==typeof a?a:Number(a??0)).toFixed(2),"Demand"],labelStyle:{color:"#FFFFFF"}}),(0,b.jsx)(e.Legend,{wrapperStyle:{color:"#A1A1AA",fontSize:"12px"}}),(0,b.jsx)(f.Line,{dataKey:"demand",dot:{fill:"#4F7CFF",r:5,strokeWidth:0},name:"Total Demand",stroke:"#4F7CFF",strokeWidth:3,type:"monotone"})]})})})]})}var m=a.i(54419),n=a.i(67149),o=a.i(98621),p=a.i(88949),q=a.i(74668),r=a.i(68932),s=a.i(99738),t=a.i(98382),u=a.i(17792),v=a.i(77368),w=a.i(12168),x=a.i(25392),y=a.i(61970),z=a.i(7038),A=a.i(87293),B=a.i(96268),C=a.i(31080),D=a.i(3041);class E{constructor(a){var{x:b,y:c}=a;this.xAxisScale=b,this.yAxisScale=c}map(a,b){var c,d,{position:e}=b;return{x:null!=(c=this.xAxisScale.map(a.x,{position:e}))?c:0,y:null!=(d=this.yAxisScale.map(a.y,{position:e}))?d:0}}mapWithFallback(a,b){var c,d,e,f,{position:g,fallback:h}=b;return e="rangeMin"===h?this.yAxisScale.rangeMin():"rangeMax"===h?this.yAxisScale.rangeMax():0,f="rangeMin"===h?this.xAxisScale.rangeMin():"rangeMax"===h?this.xAxisScale.rangeMax():0,{x:null!=(c=this.xAxisScale.map(a.x,{position:g}))?c:f,y:null!=(d=this.yAxisScale.map(a.y,{position:g}))?d:e}}isInRange(a){var{x:b,y:c}=a,d=null==b||this.xAxisScale.isInRange(b),e=null==c||this.yAxisScale.isInRange(c);return d&&e}}function F(a,b){var c=Object.keys(a);if(Object.getOwnPropertySymbols){var d=Object.getOwnPropertySymbols(a);b&&(d=d.filter(function(b){return Object.getOwnPropertyDescriptor(a,b).enumerable})),c.push.apply(c,d)}return c}function G(a){for(var b=1;b<arguments.length;b++){var c=null!=arguments[b]?arguments[b]:{};b%2?F(Object(c),!0).forEach(function(b){var d,e,f;d=a,e=b,f=c[b],(e=function(a){var b=function(a,b){if("object"!=typeof a||!a)return a;var c=a[Symbol.toPrimitive];if(void 0!==c){var d=c.call(a,b||"default");if("object"!=typeof d)return d;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===b?String:Number)(a)}(a,"string");return"symbol"==typeof b?b:b+""}(e))in d?Object.defineProperty(d,e,{value:f,enumerable:!0,configurable:!0,writable:!0}):d[e]=f}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(c)):F(Object(c)).forEach(function(b){Object.defineProperty(a,b,Object.getOwnPropertyDescriptor(c,b))})}return a}function H(){return(H=Object.assign.bind()).apply(null,arguments)}function I(a){var b=(0,v.useAppDispatch)();return(0,c.useEffect)(()=>(b((0,u.addLine)(a)),()=>{b((0,u.removeLine)(a))})),null}function J(a){var{xAxisId:b,yAxisId:d,shape:e,className:f,ifOverflow:g}=a,h=(0,x.useIsPanorama)(),i=(0,y.useClipPathId)(),j=(0,v.useAppSelector)(a=>(0,w.selectXAxisSettings)(a,b)),k=(0,v.useAppSelector)(a=>(0,w.selectYAxisSettings)(a,d)),l=(0,v.useAppSelector)(a=>(0,w.selectAxisScale)(a,"xAxis",b,h)),m=(0,v.useAppSelector)(a=>(0,w.selectAxisScale)(a,"yAxis",d,h)),n=(0,t.useViewBox)();if(!i||!n||null==j||null==k||null==l||null==m)return null;var u=((a,b,c,d,e,f,g)=>{var h,i,{x:j,y:k,segment:l,ifOverflow:m}=g,n=(0,r.isNumOrStr)(j);return(0,r.isNumOrStr)(k)?((a,b,c,d,e,f)=>{var{x:g,width:h}=f,i=e.map(a,{position:c});if(!(0,D.isWellBehavedNumber)(i)||"discard"===b&&!e.isInRange(i))return null;var j=[{x:g+h,y:i},{x:g,y:i}];return"left"===d?j.reverse():j})(k,m,d,f,b,c):n?((a,b,c,d,e,f)=>{var{y:g,height:h}=f,i=e.map(a,{position:c});if(!(0,D.isWellBehavedNumber)(i)||"discard"===b&&!e.isInRange(i))return null;var j=[{x:i,y:g+h},{x:i,y:g}];return"top"===d?j.reverse():j})(j,m,d,e,a,c):null!=l&&2===l.length?(i=[(h=new E({x:a,y:b})).mapWithFallback(l[0],{position:d,fallback:"rangeMin"}),h.mapWithFallback(l[1],{position:d,fallback:"rangeMax"})],"discard"===m&&i.some(a=>!h.isInRange(a))?null:i):null})(l,m,n,a.position,j.orientation,k.orientation,a);if(!u)return null;var A=u[0],C=u[1];if(null==A||null==C)return null;var{x:F,y:I}=A,{x:J,y:K}=C,L=G(G({clipPath:"hidden"===g?"url(#".concat(i,")"):void 0},(0,z.svgPropertiesAndEvents)(a)),{},{x1:F,y1:I,x2:J,y2:K}),M=(0,s.rectWithCoords)({x1:F,y1:I,x2:J,y2:K});return c.createElement(B.ZIndexLayer,{zIndex:a.zIndex},c.createElement(p.Layer,{className:(0,o.clsx)("recharts-reference-line",f)},((a,b)=>{var d;if(c.isValidElement(a))d=c.cloneElement(a,b);else if("function"==typeof a)d=a(b);else{if(!(0,D.isWellBehavedNumber)(b.x1)||!(0,D.isWellBehavedNumber)(b.y1)||!(0,D.isWellBehavedNumber)(b.x2)||!(0,D.isWellBehavedNumber)(b.y2))return null;d=c.createElement("line",H({},b,{className:"recharts-reference-line-line"}))}return d})(e,L),c.createElement(q.CartesianLabelContextProvider,H({},M,{lowerWidth:M.width,upperWidth:M.width}),c.createElement(q.CartesianLabelFromLabelProp,{label:a.label}),a.children)))}var K={ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",label:!1,stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle",zIndex:C.DefaultZIndexes.line};function L(a){var b=(0,A.resolveDefaultProps)(a,K);return c.createElement(c.Fragment,null,c.createElement(I,{yAxisId:b.yAxisId,xAxisId:b.xAxisId,ifOverflow:b.ifOverflow,x:b.x,y:b.y,segment:b.segment}),c.createElement(J,b))}L.displayName="ReferenceLine";var M=a.i(36319),N=a.i(37082),O=a.i(13667),P=a.i(56295),Q=a.i(52517),R=a.i(76805),S=a.i(56998),T=["option","isActive"];function U(){return(U=Object.assign.bind()).apply(null,arguments)}function V(a){var{option:b,isActive:d}=a,e=function(a,b){if(null==a)return{};var c,d,e=function(a,b){if(null==a)return{};var c={};for(var d in a)if(({}).hasOwnProperty.call(a,d)){if(-1!==b.indexOf(d))continue;c[d]=a[d]}return c}(a,b);if(Object.getOwnPropertySymbols){var f=Object.getOwnPropertySymbols(a);for(d=0;d<f.length;d++)c=f[d],-1===b.indexOf(c)&&({}).propertyIsEnumerable.call(a,c)&&(e[c]=a[c])}return e}(a,T);return"string"==typeof b?c.createElement(S.Shape,U({option:c.createElement(R.Symbols,U({type:b},e)),isActive:d,shapeType:"symbols"},e)):c.createElement(S.Shape,U({option:b,isActive:d,shapeType:"symbols"},e))}var W=a.i(89205),X=a.i(12791),Y=a.i(83663),Z=a.i(17913),$=a.i(44381),_=a.i(98563),aa=(0,$.createSelector)([w.selectUnfilteredCartesianItems,(a,b,c,d,e)=>e],(a,b)=>a.filter(a=>"scatter"===a.type).find(a=>a.id===b)),ab=(0,$.createSelector)([(a,b,c,d,e,f,g)=>(0,_.selectChartDataWithIndexesIfNotInPanoramaPosition4)(a,void 0,void 0,g),(a,b,c,d,e,f,g)=>(0,w.selectAxisWithScale)(a,"xAxis",b,g),(a,b,c,d,e,f,g)=>(0,w.selectTicksOfGraphicalItem)(a,"xAxis",b,g),(a,b,c,d,e,f,g)=>(0,w.selectAxisWithScale)(a,"yAxis",c,g),(a,b,c,d,e,f,g)=>(0,w.selectTicksOfGraphicalItem)(a,"yAxis",c,g),(a,b,c,d)=>(0,w.selectZAxisWithScale)(a,"zAxis",d,!1),aa,(a,b,c,d,e,f)=>f],(a,b,c,d,e,f,g,h)=>{var i,{chartData:j,dataStartIndex:k,dataEndIndex:l}=a;if(null!=g&&null!=(i=(null==g?void 0:g.data)!=null&&g.data.length>0?g.data:null==j?void 0:j.slice(k,l+1))&&null!=b&&null!=d&&null!=c&&null!=e&&(null==c?void 0:c.length)!==0&&(null==e?void 0:e.length)!==0)return function(a){var{displayedData:b,xAxis:c,yAxis:d,zAxis:e,scatterSettings:f,xAxisTicks:g,yAxisTicks:h,cells:i}=a,j=(0,r.isNullish)(c.dataKey)?f.dataKey:c.dataKey,k=(0,r.isNullish)(d.dataKey)?f.dataKey:d.dataKey,l=e&&e.dataKey,m=e?e.range:w.implicitZAxis.range,n=m&&m[0],o=c.scale.bandwidth?c.scale.bandwidth():0,p=d.scale.bandwidth?d.scale.bandwidth():0;return b.map((a,b)=>{var m=(0,P.getValueByDataKey)(a,j),q=(0,P.getValueByDataKey)(a,k),s=!(0,r.isNullish)(l)&&(0,P.getValueByDataKey)(a,l)||"-",t=[{name:(0,r.isNullish)(c.dataKey)?f.name:c.name||String(c.dataKey),unit:c.unit||"",value:m,payload:a,dataKey:j,type:f.tooltipType},{name:(0,r.isNullish)(d.dataKey)?f.name:d.name||String(d.dataKey),unit:d.unit||"",value:q,payload:a,dataKey:k,type:f.tooltipType}];"-"!==s&&null!=e&&t.push({name:e.name||e.dataKey,unit:e.unit||"",value:s,payload:a,dataKey:l,type:f.tooltipType});var u=(0,P.getCateCoordinateOfLine)({axis:c,ticks:g,bandSize:o,entry:a,index:b,dataKey:j}),v=(0,P.getCateCoordinateOfLine)({axis:d,ticks:h,bandSize:p,entry:a,index:b,dataKey:k}),w="-"!==s&&null!=e?e.scale.map(s):n,x=null==w?0:Math.sqrt(Math.max(w,0)/Math.PI);return ar(ar({},a),{},{cx:u,cy:v,x:null==u?void 0:u-x,y:null==v?void 0:v-x,width:2*x,height:2*x,size:w,node:{x:m,y:q,z:s},tooltipPayload:t,tooltipPosition:{x:u,y:v},payload:a},i&&i[b]&&i[b].props)})}({displayedData:i,xAxis:b,yAxis:d,zAxis:f,scatterSettings:g,xAxisTicks:c,yAxisTicks:e,cells:h})}),ac=a.i(86505),ad=a.i(92430),ae=a.i(5911),af=a.i(62320),ag=a.i(46780),ah=a.i(77025),ai=a.i(72853),aj=a.i(76342),ak=a.i(95272),al=["id"],am=["onMouseEnter","onClick","onMouseLeave"],an=["animationBegin","animationDuration","animationEasing","hide","isAnimationActive","legendType","lineJointType","lineType","shape","xAxisId","yAxisId","zAxisId"];function ao(a,b){if(null==a)return{};var c,d,e=function(a,b){if(null==a)return{};var c={};for(var d in a)if(({}).hasOwnProperty.call(a,d)){if(-1!==b.indexOf(d))continue;c[d]=a[d]}return c}(a,b);if(Object.getOwnPropertySymbols){var f=Object.getOwnPropertySymbols(a);for(d=0;d<f.length;d++)c=f[d],-1===b.indexOf(c)&&({}).propertyIsEnumerable.call(a,c)&&(e[c]=a[c])}return e}function ap(){return(ap=Object.assign.bind()).apply(null,arguments)}function aq(a,b){var c=Object.keys(a);if(Object.getOwnPropertySymbols){var d=Object.getOwnPropertySymbols(a);b&&(d=d.filter(function(b){return Object.getOwnPropertyDescriptor(a,b).enumerable})),c.push.apply(c,d)}return c}function ar(a){for(var b=1;b<arguments.length;b++){var c=null!=arguments[b]?arguments[b]:{};b%2?aq(Object(c),!0).forEach(function(b){var d,e,f;d=a,e=b,f=c[b],(e=function(a){var b=function(a,b){if("object"!=typeof a||!a)return a;var c=a[Symbol.toPrimitive];if(void 0!==c){var d=c.call(a,b||"default");if("object"!=typeof d)return d;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===b?String:Number)(a)}(a,"string");return"symbol"==typeof b?b:b+""}(e))in d?Object.defineProperty(d,e,{value:f,enumerable:!0,configurable:!0,writable:!0}):d[e]=f}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(c)):aq(Object(c)).forEach(function(b){Object.defineProperty(a,b,Object.getOwnPropertyDescriptor(c,b))})}return a}var as=c.memo(a=>{var{dataKey:b,points:d,stroke:e,strokeWidth:f,fill:g,name:h,hide:i,tooltipType:j,id:k}=a,l={dataDefinedOnItem:null==d?void 0:d.map(a=>a.tooltipPayload),getPosition:a=>{var b;return null==d||null==(b=d[Number(a)])?void 0:b.tooltipPosition},settings:{stroke:e,strokeWidth:f,fill:g,nameKey:void 0,dataKey:b,name:(0,P.getTooltipNameProp)(h,b),hide:i,type:j,color:g,unit:"",graphicalItemId:k}};return c.createElement(X.SetTooltipEntrySettings,{tooltipEntrySettings:l})});function at(a){var b,d,{points:e,props:f}=a,{line:g,lineType:h,lineJointType:i}=f;if(!g)return null;var j=(0,ai.svgPropertiesNoEvents)(f),k=(0,ai.svgPropertiesNoEventsFromUnknown)(g);if("joint"===h)b=e.map(a=>{var b,c;return{x:null!=(b=a.cx)?b:null,y:null!=(c=a.cy)?c:null}});else if("fitting"===h){var{xmin:l,xmax:m,a:n,b:o}=(0,r.getLinearRegression)(e);b=[{x:l,y:n*l+o},{x:m,y:n*m+o}]}var q=ar(ar(ar({},j),{},{fill:"none",stroke:j&&j.fill},k),{},{points:b});return d=c.isValidElement(g)?c.cloneElement(g,q):"function"==typeof g?g(q):c.createElement(O.Curve,ap({},q,{type:i})),c.createElement(p.Layer,{className:"recharts-scatter-line",key:"recharts-scatter-line"},d)}function au(a){var{showLabels:b,points:d,children:e}=a,f=(0,t.useViewBox)(),g=(0,c.useMemo)(()=>null==d?void 0:d.map(a=>{var b,c,d={x:null!=(b=a.x)?b:0,y:null!=(c=a.y)?c:0,width:a.width,height:a.height,lowerWidth:a.width,upperWidth:a.width};return ar(ar({},d),{},{value:void 0,payload:a.payload,viewBox:d,parentViewBox:f,fill:void 0})}),[f,d]);return c.createElement(M.CartesianLabelListContextProvider,{value:b?g:void 0},e)}function av(a){var{points:b,allOtherScatterProps:d}=a,{shape:e,activeShape:f,dataKey:g}=d,{id:h}=d,i=ao(d,al),j=(0,v.useAppSelector)(ac.selectActiveTooltipIndex),{onMouseEnter:k,onClick:l,onMouseLeave:m}=d,n=ao(d,am),o=(0,W.useMouseEnterItemDispatch)(k,g,h),q=(0,W.useMouseLeaveItemDispatch)(m),r=(0,W.useMouseClickItemDispatch)(l,g,h);if(!(0,Q.isNonEmptyArray)(b))return null;var s=(0,ai.svgPropertiesNoEvents)(i);return c.createElement(c.Fragment,null,c.createElement(at,{points:b,props:i}),b.map((a,b)=>{var d=null!=f&&!1!==f,g=d&&j===String(b),i=d&&g?f:e,k=ar(ar(ar({},s),a),{},{index:b,[ae.DATA_ITEM_GRAPHICAL_ITEM_ID_ATTRIBUTE_NAME]:String(h)});return c.createElement(B.ZIndexLayer,{key:"symbol-".concat(null==a?void 0:a.cx,"-").concat(null==a?void 0:a.cy,"-").concat(null==a?void 0:a.size,"-").concat(b),zIndex:g?C.DefaultZIndexes.activeDot:void 0},c.createElement(p.Layer,ap({className:"recharts-scatter-symbol"},(0,Q.adaptEventsOfChild)(n,a,b),{onMouseEnter:o(a,b),onMouseLeave:q(a,b),onClick:r(a,b)}),c.createElement(V,ap({option:i,isActive:g},k))))}))}function aw(a){var{previousPointsRef:b,props:d}=a,{points:e,isAnimationActive:f,animationBegin:g,animationDuration:h,animationEasing:i}=d,j=b.current,k=(0,af.useAnimationId)(d,"recharts-scatter-"),[l,m]=(0,c.useState)(!1),n=(0,c.useCallback)(()=>{m(!1)},[]),o=(0,c.useCallback)(()=>{m(!0)},[]),q=!l;return c.createElement(au,{showLabels:q,points:e},d.children,c.createElement(aj.JavascriptAnimate,{animationId:k,begin:g,duration:h,isActive:f,easing:i,onAnimationEnd:n,onAnimationStart:o,key:k},a=>{var f=1===a?e:null==e?void 0:e.map((b,c)=>{var d=j&&j[c];return d?ar(ar({},b),{},{cx:null==b.cx?void 0:(0,r.interpolate)(d.cx,b.cx,a),cy:null==b.cy?void 0:(0,r.interpolate)(d.cy,b.cy,a),size:(0,r.interpolate)(d.size,b.size,a)}):ar(ar({},b),{},{size:(0,r.interpolate)(0,b.size,a)})});return a>0&&(b.current=f),c.createElement(p.Layer,null,c.createElement(av,{points:f,allOtherScatterProps:d,showLabels:q}))}),c.createElement(M.LabelListFromLabelProp,{label:d.label}))}var ax=(a,b,c)=>({x:a.cx,y:a.cy,value:"x"===c?Number(a.node.x):Number(a.node.y),errorVal:(0,P.getValueByDataKey)(a,b)});function ay(a){var{hide:b,points:d,className:e,needClip:f,xAxisId:g,yAxisId:h,id:i}=a,j=(0,c.useRef)(null);if(b)return null;var k=(0,o.clsx)("recharts-scatter",e);return c.createElement(B.ZIndexLayer,{zIndex:a.zIndex},c.createElement(p.Layer,{className:k,clipPath:f?"url(#clipPath-".concat(i,")"):void 0,id:i},f&&c.createElement("defs",null,c.createElement(Z.GraphicalItemClipPath,{clipPathId:i,xAxisId:g,yAxisId:h})),c.createElement(Y.SetErrorBarContext,{xAxisId:g,yAxisId:h,data:d,dataPointFormatter:ax,errorBarOffset:0},c.createElement(p.Layer,{key:"recharts-scatter-symbols"},c.createElement(aw,{props:a,previousPointsRef:j})))))}var az={xAxisId:0,yAxisId:0,zAxisId:0,label:!1,line:!1,legendType:"circle",lineType:"joint",lineJointType:"linear",shape:"circle",hide:!1,isAnimationActive:"auto",animationBegin:0,animationDuration:400,animationEasing:"linear",zIndex:C.DefaultZIndexes.scatter};function aA(a){var b=(0,A.resolveDefaultProps)(a,az),{animationBegin:d,animationDuration:e,animationEasing:f,hide:g,isAnimationActive:h,legendType:i,lineJointType:j,lineType:k,shape:l,xAxisId:m,yAxisId:o,zAxisId:p}=b,q=ao(b,an),{needClip:r}=(0,Z.useNeedsClip)(m,o),s=(0,c.useMemo)(()=>(0,N.findAllByType)(a.children,n.Cell),[a.children]),t=(0,x.useIsPanorama)(),u=(0,v.useAppSelector)(b=>ab(b,m,o,p,a.id,s,t));return null==r||null==u?null:c.createElement(c.Fragment,null,c.createElement(as,{dataKey:a.dataKey,points:u,stroke:a.stroke,strokeWidth:a.strokeWidth,fill:a.fill,name:a.name,hide:a.hide,tooltipType:a.tooltipType,id:a.id}),c.createElement(ay,ap({},q,{xAxisId:m,yAxisId:o,zAxisId:p,lineType:k,lineJointType:j,legendType:i,shape:l,hide:g,isAnimationActive:h,animationBegin:d,animationDuration:e,animationEasing:f,points:u,needClip:r})))}var aB=c.memo(function(a){var b=(0,A.resolveDefaultProps)(a,az),d=(0,x.useIsPanorama)();return c.createElement(ag.RegisterGraphicalItemId,{id:b.id,type:"scatter"},a=>c.createElement(c.Fragment,null,c.createElement(ad.SetLegendPayload,{legendPayload:(a=>{var{dataKey:b,name:c,fill:d,legendType:e,hide:f}=a;return[{inactive:f,dataKey:b,type:e,color:d,value:(0,P.getTooltipNameProp)(c,b),payload:a}]})(b)}),c.createElement(ah.SetCartesianGraphicalItem,{type:"scatter",id:a,data:b.data,xAxisId:b.xAxisId,yAxisId:b.yAxisId,zAxisId:b.zAxisId,dataKey:b.dataKey,hide:b.hide,name:b.name,tooltipType:b.tooltipType,isPanorama:d}),c.createElement(aA,ap({},b,{id:a}))))},ak.propsAreEqual);aB.displayName="Scatter";var aC=a.i(554),aD=a.i(31760),aE=["item"],aF=(0,c.forwardRef)((a,b)=>c.createElement(aD.CartesianChart,{chartName:"ScatterChart",defaultTooltipEventType:"item",validateTooltipEventTypes:aE,tooltipPayloadSearcher:aC.arrayTooltipSearcher,categoricalChartProps:a,ref:b}));function aG({active:a,payload:c}){if(!a||!c||0===c.length)return null;let d=c[0].payload;return(0,b.jsxs)("div",{className:"rounded-xl border border-zinc-700 bg-zinc-900 p-3 text-xs text-zinc-100 shadow-md",children:[(0,b.jsxs)("p",{children:[(0,b.jsx)("span",{className:"text-zinc-400",children:"Cluster:"})," ",d.clusterId]}),(0,b.jsxs)("p",{children:[(0,b.jsx)("span",{className:"text-zinc-400",children:"Competition:"})," ",d.competitionIndex.toFixed(2)]}),(0,b.jsxs)("p",{children:[(0,b.jsx)("span",{className:"text-zinc-400",children:"Opportunity:"})," ",d.opportunityScore.toFixed(2)]}),(0,b.jsxs)("p",{children:[(0,b.jsx)("span",{className:"text-zinc-400",children:"Surging:"})," ",d.isSurging?"Yes":"No"]})]})}function aH({clusters:a,onPointClick:c}){if(0===a.length)return(0,b.jsxs)("div",{className:"rounded-xl border border-zinc-800 bg-zinc-900 p-6",children:[(0,b.jsx)("h3",{className:"text-base font-medium text-zinc-100",children:"Competition vs Opportunity"}),(0,b.jsx)("div",{className:"mt-4 flex h-56 items-center justify-center rounded-xl border border-dashed border-zinc-700",children:(0,b.jsx)("span",{className:"text-sm text-zinc-500",children:"No cluster positioning data"})})]});let d=a.map(a=>({clusterId:a.clusterId,competitionIndex:a.competitionIndex,opportunityScore:a.opportunityScore,isSurging:a.isSurging})),e=d.reduce((a,b)=>a+b.competitionIndex,0)/d.length,f=d.reduce((a,b)=>a+b.opportunityScore,0)/d.length,g=Math.min(...d.map(a=>a.competitionIndex)),l=Math.max(...d.map(a=>a.competitionIndex));d.map(a=>a.opportunityScore),d.map(a=>a.opportunityScore);let o=Math.max(1,(l-g)*.1);return(0,b.jsxs)("div",{className:"rounded-xl border border-zinc-800 bg-zinc-900 p-6",children:[(0,b.jsx)("h3",{className:"text-base font-medium text-zinc-100",children:"Competition vs Opportunity"}),(0,b.jsx)("div",{className:"mt-4 h-56",children:(0,b.jsx)(h.ResponsiveContainer,{height:"100%",width:"100%",children:(0,b.jsxs)(aF,{margin:{top:8,right:12,left:0,bottom:8},children:[(0,b.jsx)(m.CartesianGrid,{stroke:"#3F3F46",strokeDasharray:"3 3"}),(0,b.jsx)(j.XAxis,{axisLine:{stroke:"#3F3F46"},dataKey:"competitionIndex",name:"Competition Index",tick:{fill:"#A1A1AA",fontSize:12},tickLine:!1,type:"number"}),(0,b.jsx)(k.YAxis,{axisLine:{stroke:"#3F3F46"},dataKey:"opportunityScore",name:"Opportunity Score",tick:{fill:"#A1A1AA",fontSize:12},tickLine:!1,type:"number"}),(0,b.jsx)(L,{stroke:"#52525B",strokeDasharray:"4 4",x:e}),(0,b.jsx)(L,{stroke:"#52525B",strokeDasharray:"4 4",y:f}),(0,b.jsx)(i.Tooltip,{content:(0,b.jsx)(aG,{}),cursor:{stroke:"#52525B"}}),(0,b.jsx)(aB,{data:d,name:"Clusters",children:d.map((d,e)=>(0,b.jsx)(n.Cell,{fill:d.isSurging?"#4F7CFF":"#A1A1AA",onClick:()=>c?.(a[e])},`${d.clusterId}-${d.competitionIndex}-${d.opportunityScore}`))}),(0,b.jsx)("text",{fill:"#71717A",fontSize:11,x:`${(e-(g-o))/(l-g+2*o)*50-2}%`,y:18,children:"Expansion Zone"}),(0,b.jsx)("text",{fill:"#71717A",fontSize:11,textAnchor:"end",x:`${(e-(g-o))/(l-g+2*o)*50+52}%`,y:18,children:"Competitive Hot Zone"}),(0,b.jsx)("text",{fill:"#71717A",fontSize:11,x:`${(e-(g-o))/(l-g+2*o)*50-2}%`,y:"92%",children:"Dormant"}),(0,b.jsx)("text",{fill:"#71717A",fontSize:11,textAnchor:"end",x:`${(e-(g-o))/(l-g+2*o)*50+52}%`,y:"92%",children:"Saturated"})]})})}),(0,b.jsxs)("div",{className:"mt-2 flex items-center justify-between text-xs text-zinc-500",children:[(0,b.jsxs)("div",{className:"flex items-center gap-3",children:[(0,b.jsxs)("span",{className:"inline-flex items-center gap-1.5",children:[(0,b.jsx)("span",{className:"h-2.5 w-2.5 rounded-full bg-[#4F7CFF]"}),"Surging"]}),(0,b.jsxs)("span",{className:"inline-flex items-center gap-1.5",children:[(0,b.jsx)("span",{className:"h-2.5 w-2.5 rounded-full bg-[#A1A1AA]"}),"Normal"]})]}),(0,b.jsx)("span",{children:"Opportunity Score vs Competition"})]})]})}function aI({cluster:a,onClose:d}){let e,f,g,h,i=null!==a;return(0,c.useEffect)(()=>{if(i)return document.body.classList.add("overflow-hidden"),()=>{document.body.classList.remove("overflow-hidden")};document.body.classList.remove("overflow-hidden")},[i]),(0,b.jsxs)("div",{className:`fixed inset-0 z-50 flex justify-end transition-opacity duration-300 ${i?"pointer-events-auto":"pointer-events-none"}`,children:[(0,b.jsx)("button",{"aria-label":"Close cluster detail drawer",className:`absolute inset-0 bg-black/40 backdrop-blur-sm transition-opacity duration-300 ease-in-out ${i?"opacity-100":"pointer-events-none opacity-0"}`,onClick:d,type:"button"}),(0,b.jsxs)("aside",{className:`fixed right-0 top-0 z-50 h-full w-full border-l border-zinc-800 bg-zinc-950 p-6 transition-transform duration-300 ease-in-out sm:w-[420px] ${i?"translate-x-0":"translate-x-full"}`,children:[(0,b.jsxs)("div",{className:"flex items-start justify-between",children:[(0,b.jsx)("h2",{className:"text-lg font-semibold text-zinc-100",children:"Cluster Details"}),(0,b.jsx)("button",{"aria-label":"Close drawer",className:"rounded-lg border border-zinc-700 px-2 py-1 text-sm text-zinc-300 transition hover:bg-zinc-800 hover:text-white",onClick:d,type:"button",children:"Close"})]}),a?(0,b.jsxs)(b.Fragment,{children:[(0,b.jsxs)("div",{className:"mt-6 space-y-3 text-sm text-zinc-300",children:[(0,b.jsxs)("p",{children:[(0,b.jsx)("span",{className:"text-zinc-500",children:"Cluster ID:"})," ",a.clusterId]}),(0,b.jsxs)("p",{children:[(0,b.jsx)("span",{className:"text-zinc-500",children:"Current Demand Score:"})," ",a.currentDemandScore.toFixed(2)]}),(0,b.jsxs)("p",{children:[(0,b.jsx)("span",{className:"text-zinc-500",children:"Previous Demand Score:"})," ",a.previousDemandScore.toFixed(2)]}),(0,b.jsxs)("p",{children:[(0,b.jsx)("span",{className:"text-zinc-500",children:"Growth %:"})," ",a.growthRate.toFixed(2),"%"]}),(0,b.jsxs)("p",{className:"flex items-center gap-2",children:[(0,b.jsx)("span",{className:"text-zinc-500",children:"Surging:"}),(0,b.jsx)("span",{className:`inline-flex rounded-full px-2 py-0.5 text-xs ${a.isSurging?"bg-[#4F7CFF]/20 text-[#4F7CFF]":"bg-zinc-800 text-zinc-300"}`,children:a.isSurging?"Yes":"No"})]}),(0,b.jsxs)("p",{children:[(0,b.jsx)("span",{className:"text-zinc-500",children:"Competition Index:"})," ",a.competitionIndex.toFixed(2)]}),(0,b.jsxs)("p",{children:[(0,b.jsx)("span",{className:"text-zinc-500",children:"Opportunity Score:"})," ",a.opportunityScore.toFixed(2)]})]}),(0,b.jsxs)("div",{className:"mt-6 rounded-xl border border-zinc-800 bg-zinc-900 p-4",children:[(0,b.jsx)("h3",{className:"text-sm font-medium text-zinc-100",children:"Recommendation"}),(0,b.jsx)("p",{className:"mt-2 text-sm text-zinc-400",children:(e=a.opportunityScore>=10,f=a.competitionIndex<=5,g=a.currentDemandScore>=20,h=a.competitionIndex>10,e&&f?"High opportunity zone. Consider vendor expansion.":h&&g?"High demand but competitive market.":"Moderate market activity.")})]})]}):null]})]})}let aJ=(0,a.i(19721).default)(async()=>{},{loadableGenerated:{modules:[10865]},ssr:!1});function aK(a,b){return a>b?"up":a<b?"down":"flat"}function aL(a){return"up"===a?{arrow:"↑",className:"text-[#30D158]"}:"down"===a?{arrow:"↓",className:"text-[#FF453A]"}:{arrow:"→",className:"text-zinc-400"}}function aM(){let{days:a}=(0,d.useDashboardFilters)(),[e,f]=(0,c.useState)([]),[g,h]=(0,c.useState)(!0),[i,j]=(0,c.useState)(null),[k,m]=(0,c.useState)(null);(0,c.useEffect)(()=>{!async function(){try{h(!0);let b=await fetch(`/api/analytics/cluster-intelligence?days=${a}`);if(!b.ok)throw Error("Failed to fetch intelligence data");let c=await b.json();f(c.clusters??[]),j(null)}catch{j("Failed to load intelligence data")}finally{h(!1)}}()},[a]);let n=e.length,o=e.filter(a=>a.isSurging).length,p=e.length>0?e.reduce((a,b)=>a+b.opportunityScore,0)/e.length:0,q=e.length>0?e.reduce((a,b)=>a+b.previousDemandScore/(b.competitionIndex+1),0)/e.length:0,r=e.filter(a=>a.competitionIndex>5).length,s=aK(o,e.filter(a=>a.previousDemandScore>=20).length),t=aK(p,q),u=aL(s),v=aL(t),w=p>=10?"text-[#30D158]":"text-white",x=r>0?"text-[#FF453A]":"text-white";return(0,b.jsxs)("div",{className:"px-6 py-8",children:[g?(0,b.jsx)("p",{className:"mb-6 text-sm text-zinc-400",children:"Loading intelligence..."}):null,i?(0,b.jsx)("p",{className:"mb-6 text-sm text-[#FF453A]",children:i}):null,(0,b.jsxs)("section",{className:"grid grid-cols-1 gap-6 md:grid-cols-2 lg:grid-cols-4",children:[(0,b.jsxs)("div",{className:"animate-fade-in rounded-xl border border-zinc-800 bg-zinc-900 p-6 shadow-sm transition-transform duration-200 ease-out hover:scale-[1.02] hover:shadow-lg",children:[(0,b.jsx)("p",{className:"text-sm text-zinc-400",children:"Total Clusters"}),(0,b.jsx)("p",{className:"mt-3 text-4xl font-bold text-white",children:n}),(0,b.jsx)("p",{className:"mt-2 text-xs text-zinc-400",children:"+12% vs last period"})]}),(0,b.jsxs)("div",{className:"animate-fade-in delay-75 rounded-xl border border-zinc-800 bg-zinc-900 p-6 shadow-sm transition-transform duration-200 ease-out hover:scale-[1.02] hover:shadow-lg",children:[(0,b.jsx)("p",{className:"text-sm text-zinc-400",children:"Surging Zones"}),(0,b.jsxs)("div",{className:"mt-3 flex items-center gap-2",children:[(0,b.jsx)("p",{className:"text-4xl font-bold text-white",children:o}),(0,b.jsx)("span",{className:`text-lg font-semibold ${u.className}`,children:u.arrow})]}),(0,b.jsxs)("div",{className:"mt-2 inline-flex items-center gap-2 rounded-full bg-zinc-800 px-2 py-1 text-xs text-zinc-300",children:[(0,b.jsx)("span",{className:"h-2 w-2 rounded-full bg-[#4F7CFF]"}),(0,b.jsx)("span",{children:"Active now"})]})]}),(0,b.jsxs)("div",{className:"animate-fade-in delay-150 rounded-xl border border-zinc-800 bg-zinc-900 p-6 shadow-sm transition-transform duration-200 ease-out hover:scale-[1.02] hover:shadow-lg",children:[(0,b.jsx)("p",{className:"text-sm text-zinc-400",children:"Avg Opportunity Score"}),(0,b.jsxs)("div",{className:"mt-3 flex items-center gap-2",children:[(0,b.jsx)("p",{className:`text-4xl font-bold ${w}`,children:p.toFixed(1)}),(0,b.jsx)("span",{className:`text-lg font-semibold ${v.className}`,children:v.arrow})]}),(0,b.jsx)("div",{className:"mt-2 inline-flex items-center rounded-full bg-[#30D158]/20 px-2 py-1 text-xs text-[#30D158]",children:"Strong"})]}),(0,b.jsxs)("div",{className:"animate-fade-in delay-200 rounded-xl border border-zinc-800 bg-zinc-900 p-6 shadow-sm transition-transform duration-200 ease-out hover:scale-[1.02] hover:shadow-lg",children:[(0,b.jsx)("p",{className:"text-sm text-zinc-400",children:"High Competition Areas"}),(0,b.jsx)("p",{className:`mt-3 text-4xl font-bold ${x}`,children:r}),(0,b.jsx)("div",{className:"mt-2 inline-flex items-center rounded-full bg-[#FF453A]/20 px-2 py-1 text-xs text-[#FF453A]",children:"Watchlist"})]})]}),(0,b.jsxs)("section",{className:"mt-8",children:[(0,b.jsx)("h2",{className:"text-lg font-medium text-zinc-200",children:"Opportunity Heat Map"}),(0,b.jsx)("div",{className:"mt-4 rounded-xl border border-zinc-800 bg-zinc-900 p-6",children:(0,b.jsx)(aJ,{days:a,onMarkerClick:m})})]}),(0,b.jsxs)("section",{className:"mt-8 grid grid-cols-1 gap-6 lg:grid-cols-2",children:[g?(0,b.jsxs)("div",{className:"rounded-xl border border-zinc-800 bg-zinc-900 p-6",children:[(0,b.jsx)("h3",{className:"text-base font-medium text-zinc-100",children:"Growth Trend"}),(0,b.jsx)("div",{className:"mt-4 flex h-56 items-center justify-center rounded-xl border border-dashed border-zinc-700",children:(0,b.jsx)("span",{className:"text-sm text-zinc-500",children:"Loading growth chart..."})})]}):(0,b.jsx)(l,{days:a,clusters:e}),(0,b.jsx)(aH,{clusters:e,onPointClick:m})]}),(0,b.jsx)(aI,{cluster:k,onClose:()=>m(null)})]})}a.s(["default",()=>aM],49846)}];

//# sourceMappingURL=src_app_dashboard_page_tsx_196c74b5._.js.map