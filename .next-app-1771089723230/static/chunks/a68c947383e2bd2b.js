(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,85153,e=>{"use strict";var t=e.i(43476),i=e.i(71645),r=e.i(18566),s=e.i(43037);function n(){let e=(0,r.useRouter)(),[n,l]=(0,i.useState)(""),[a,o]=(0,i.useState)(""),[d,c]=(0,i.useState)(""),[u,m]=(0,i.useState)(""),[x,b]=(0,i.useState)(!1),[g,h]=(0,i.useState)(null);async function p(t){t.preventDefault(),h(null);let i=Number(d),r=Number(u);if(!(Number.isFinite(i)&&i>=-90&&i<=90))return void h("Please enter a valid latitude between -90 and 90.");if(!(Number.isFinite(r)&&r>=-180&&r<=180))return void h("Please enter a valid longitude between -180 and 180.");try{b(!0);let t=await (0,s.authFetch)("/api/vendor/store",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:n.trim(),lat:Number(d),lng:Number(u),description:a.trim()||void 0})}),i=await t.json();if(!t.ok)throw Error(i.message??"Failed to create store");e.replace("/vendor/products")}catch(e){h(e instanceof Error?e.message:"Failed to create store. Please try again.")}finally{b(!1)}}return(0,t.jsx)("div",{className:"mx-auto w-full max-w-xl",children:(0,t.jsxs)("div",{className:"rounded-xl border border-zinc-800 bg-zinc-900 p-6 shadow-sm",children:[(0,t.jsx)("h2",{className:"text-xl font-semibold text-zinc-100",children:"Create Store"}),(0,t.jsx)("p",{className:"mt-1 text-sm text-zinc-400",children:"Add your store details to start listing products."}),(0,t.jsxs)("form",{className:"mt-6 space-y-4",onSubmit:p,children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"mb-1 block text-sm text-zinc-300",htmlFor:"store-name",children:"Store Name"}),(0,t.jsx)("input",{className:"w-full rounded-lg border border-zinc-700 bg-zinc-950 px-3 py-2 text-sm text-white outline-none ring-[#4F7CFF] transition focus:ring-2",id:"store-name",onChange:e=>l(e.target.value),required:!0,type:"text",value:n})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"mb-1 block text-sm text-zinc-300",htmlFor:"store-description",children:"Description"}),(0,t.jsx)("textarea",{className:"min-h-24 w-full rounded-lg border border-zinc-700 bg-zinc-950 px-3 py-2 text-sm text-white outline-none ring-[#4F7CFF] transition focus:ring-2",id:"store-description",onChange:e=>o(e.target.value),required:!0,value:a})]}),(0,t.jsxs)("div",{className:"grid grid-cols-1 gap-4 sm:grid-cols-2",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"mb-1 block text-sm text-zinc-300",htmlFor:"store-latitude",children:"Latitude"}),(0,t.jsx)("input",{className:"w-full rounded-lg border border-zinc-700 bg-zinc-950 px-3 py-2 text-sm text-white outline-none ring-[#4F7CFF] transition focus:ring-2",id:"store-latitude",inputMode:"decimal",onChange:e=>c(e.target.value),placeholder:"e.g. 28.6139",required:!0,type:"text",value:d})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"mb-1 block text-sm text-zinc-300",htmlFor:"store-longitude",children:"Longitude"}),(0,t.jsx)("input",{className:"w-full rounded-lg border border-zinc-700 bg-zinc-950 px-3 py-2 text-sm text-white outline-none ring-[#4F7CFF] transition focus:ring-2",id:"store-longitude",inputMode:"decimal",onChange:e=>m(e.target.value),placeholder:"e.g. 77.2090",required:!0,type:"text",value:u})]})]}),g?(0,t.jsx)("p",{className:"text-sm text-[#FF453A]",children:g}):null,(0,t.jsx)("button",{className:"w-full rounded-lg bg-[#4F7CFF] px-4 py-2 text-sm font-medium text-white transition hover:bg-[#3f6ef2] disabled:cursor-not-allowed disabled:opacity-60",disabled:x,type:"submit",children:x?"Creating store...":"Create Store"})]})]})})}e.s(["default",()=>n])}]);